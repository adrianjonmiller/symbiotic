{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/promise-polyfill/src/finally.js","webpack:///./node_modules/promise-polyfill/src/index.js","webpack:///./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/template-polyfill/index.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/after-polyfill.js","webpack:///./src/data.js","webpack:///./src/descriptor.js","webpack:///./src/global.js","webpack:///./src/index.js","webpack:///./src/model.js","webpack:///./src/observe.js","webpack:///./src/textNode.js","webpack:///./src/utils.js","webpack:///./src/vnode.js","webpack:///./src/vnom.js","webpack:///./src/vstyle.js","webpack:///./src/vtext.js"],"names":["arr","forEach","item","hasOwnProperty","Object","defineProperty","configurable","enumerable","writable","value","after","argArr","Array","prototype","slice","call","arguments","docFrag","document","createDocumentFragment","argItem","isNode","Node","appendChild","createTextNode","String","parentNode","insertBefore","nextSibling","Element","CharacterData","DocumentType","Data","data","cb","watchers","val","newVal","oldVal","watcher","utils","nextFrame","Descriptor","node","computer","addWatcher","Utils","loop","key","get","set","update","writeable","isArray","concat","map","fn","bind","push","plugins","head","vdom","Symbiotic","config","global","states","el","$scope","getScope","findHead","createElement","boostrapTemplates","Promise","resolve","reject","start","readyState","addEventListener","t0","performance","now","vnode","Vnode","init","t1","console","log","polyfillStyle","createStyleNode","polyfillScript","innerText","innerHTML","window","undefined","Model","$node","$styleNode","events","style","firstChild","lastChild","next","prev","cloned","id","getAttribute","uid","show","textNodes","width","offsetWidth","height","offsetHeight","state","hover","prevState","tagName","nodeType","model","$event","on","emit","append","prepend","find","findParent","extend","watch","setAttribute","toLowerCase","$template","getTemplateNode","removeProperty","removeAttribute","display","parent","updateState","updateStyles","assign","check","attributes","attribute","attrName","dashToCamelCase","nodeName","$attrValue","nodeValue","indexOf","replace","mustacheRegex","match","variable","refs","split","obj","store","index","length","debounce","camelCaseToDash","childNodes","$children","$child","child","getTextNode","$textNode","TextNode","list","vals","cloneNodes","ResizeObserver","entries","observer","entry","contentRect","left","top","observe","pos","p","event","useCapture","e","apply","methods","k","$cloned","children","cloneNode","textNode","v","payload","bubbles","i","ctx","Proxy","result","dig","includes","name","Plugins","Plugin","args","template","range","createRange","ref","trim","stringRef","frag","createContextualFragment","_update","values","styleString","prop","$clonedNode","content","found","object","context","handler","target","property","receiver","err","Reflect","descriptor","deleteProperty","originalContent","textContent","prefix","myStr","myString","g","toUpperCase","styleNode","type","func","frame","executedFunction","cancelAnimationFrame","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","o","keys","res","reduce","vnom","attributeValue","charAt","substring","setStates","body","querySelector","stateName","newStateName","oldState","getState","newState","leave","enter","props","$on","ready","Vnom","Vtext","newStates","methodKey","eventName","class","attrValue","Vstyle","styles","updateStyleNode","Global","$originalContent","filter","self","contents","$lastNode","$newNode"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;ACvLtC;AAAA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;;;;;;;;;;;;;;;ACnBA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB;AACA,aAAa,SAAS;AACtB;AACA,aAAa,kBAAkB;AAC/B;AACA,aAAa,kBAAkB;AAC/B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,+CAA+C,SAAS;AACxD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,+DAA+D;AAC/D;AACA;;AAEA;;;;;;;;;;;;;;;AC/OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,EAAE;AACjB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B,mBAAmB,EAAE;AACrB,qBAAqB;AACrB;AACA;AACA,iCAAiC,YAAY;AAC7C,mDAAmD,gBAAgB;AACnE;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,gCAAgC,6BAA6B,EAAE,aAAa;AAC5G,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,kBAAkB;AACjC,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,qDAAqD,mCAAmC,EAAE;AAC1F;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,gBAAgB;AAC/B,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,WAAW,cAAc;AACzB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,WAAW,UAAU;AACrB,aAAa;AACb;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA,6CAA6C,yBAAyB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,mBAAmB;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,kCAAkC,iEAAiE;AACnG;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8CAA8C;AAC9C,CAAC;AACD;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,YAAY;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,2CAA2C;AAC7E;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA,eAAe,yBAAyB;AACxC;AACA,eAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,uBAAuB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;AC/5BA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC;;;;;;;;;;;;;;ACzLD;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,cAAc;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9DA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;;;;ACnBA,CAAC,UAAUA,GAAV,EAAe;AACdA,MAAIC,OAAJ,CAAY,UAAUC,IAAV,EAAgB;AAC1B,QAAIA,KAAKC,cAAL,CAAoB,OAApB,CAAJ,EAAkC;AAChC;AACD;AACDC,WAAOC,cAAP,CAAsBH,IAAtB,EAA4B,OAA5B,EAAqC;AACnCI,oBAAc,IADqB;AAEnCC,kBAAY,IAFuB;AAGnCC,gBAAU,IAHyB;AAInCC,aAAO,SAASC,KAAT,GAAiB;AACtB,YAAIC,SAASC,MAAMC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAb;AAAA,YACEC,UAAUC,SAASC,sBAAT,EADZ;;AAGAR,eAAOV,OAAP,CAAe,UAAUmB,OAAV,EAAmB;AAChC,cAAIC,SAASD,mBAAmBE,IAAhC;AACAL,kBAAQM,WAAR,CAAoBF,SAASD,OAAT,GAAmBF,SAASM,cAAT,CAAwBC,OAAOL,OAAP,CAAxB,CAAvC;AACD,SAHD;;AAKA,aAAKM,UAAL,CAAgBC,YAAhB,CAA6BV,OAA7B,EAAsC,KAAKW,WAA3C;AACD;AAdkC,KAArC;AAgBD,GApBD;AAqBD,CAtBD,EAsBG,CAACC,QAAQhB,SAAT,EAAoBiB,cAAcjB,SAAlC,EAA6CkB,aAAalB,SAA1D,CAtBH,E;;;;;;;;;;;;;;;;;;;;ACAA;;;;;;;;IAEqBmB,I;AACnB,gBAAaC,IAAb,EAAmBC,EAAnB,EAAuB;AAAA;;AACrB,SAAKD,IAAL,GAAYA,IAAZ;AACA,SAAKC,EAAL,GAAUA,EAAV;AACA,SAAKC,QAAL,GAAgB,EAAhB;AACD;;;;0BAEM;AACL,aAAO,KAAKF,IAAZ;AACD;;;wBAEIG,G,EAAK;AACR,UAAIC,eAAJ;AACA,UAAIC,SAAS,KAAKL,IAAlB;AACA,UAAIM,UAAU,KAAKL,EAAL,EAAd;;AAEA,UAAIG,WAAWC,MAAf,EAAuB;AACrB;AACD;;AAED,WAAKL,IAAL,GAAYI,MAAZ;;AAEA,UAAIE,OAAJ,EAAa;AACXC,wBAAMC,SAAN,CAAgB;AAAA,iBAAMF,QAAQF,MAAR,EAAgBC,MAAhB,CAAN;AAAA,SAAhB;AACD;AACF;;;;;;kBAzBkBN,I;;;;;;;;;;;;;;;;;;;;;;;ACFrB;;;;;;;;IAEqBU,U;AACnB,sBAAYjC,KAAZ,EAAmBkC,IAAnB,EAAyB;AAAA;;AAAA;;AACvB,SAAKR,QAAL,GAAgB,EAAhB;AACA,SAAK1B,KAAL,GAAa,IAAb;AACA,SAAKmC,QAAL,GAAgB,IAAhB;AACA,SAAKD,IAAL,GAAYA,QAAQ,IAApB;;AAEA,QAAIlC,UAAU,IAAd,EAAoB;AAClB,WAAKA,KAAL,GAAa,IAAb;AACD,KAFD,MAEO;AACL,qBAAeA,KAAf,yCAAeA,KAAf;AACE,aAAK,UAAL;AACE,eAAKmC,QAAL,GAAgBnC,KAAhB;AACA,eAAKA,KAAL,GAAa,IAAb;AACF;;AAEA,aAAK,QAAL;AACE,cAAI,WAAWA,KAAf,EAAsB;AACpB,iBAAKmC,QAAL,GAAgBnC,KAAhB;AACA,iBAAKA,KAAL,GAAa,IAAb;AACA;AACD;;AAED,cAAIA,iBAAiBoB,OAArB,EAA8B;AAC5B,iBAAKpB,KAAL,GAAaA,KAAb;AACA;AACD;;AAED,cAAI,aAAaA,KAAjB,EAAwB;AACtB,iBAAKoC,UAAL,CAAgBpC,MAAM8B,OAAtB;AACD;;AAED,cAAI,WAAW9B,KAAf,EAAsB;AACpB,gBAAI,OAAOA,MAAMA,KAAb,KAAuB,UAA3B,EAAuC;AACrC,mBAAKmC,QAAL,GAAgBnC,MAAMA,KAAtB;AACA,mBAAKA,KAAL,GAAa,IAAb;AACD,aAHD,MAGO;AACL,mBAAKA,KAAL,GAAaA,MAAMA,KAAnB;AACD;AACD;AACD;;AAED,cAAI,KAAKA,KAAL,KAAe,IAAnB,EAAyB;AACvB,iBAAKA,KAAL,GAAa,EAAb;AACD;;AAEDqC,0BAAMC,IAAN,CAAWtC,KAAX,EAAkB,UAAC2B,GAAD,EAAMY,GAAN,EAAc;AAC9B5C,mBAAOC,cAAP,CAAsB,MAAKI,KAA3B,EAAkCuC,GAAlC,EAAuC,IAAIN,UAAJ,CAAeN,GAAf,EAAoB,MAAKO,IAAzB,CAAvC;AACD,WAFD;AAGF;;AAEA;AACE,eAAKlC,KAAL,GAAaA,KAAb;AACF;AA3CF;AA6CD;;AAED,WAAO;AACLwC,WAAK,eAAM;AACT,YAAI,MAAKL,QAAT,EAAmB;AACjB,iBAAO,MAAKA,QAAL,CAAc7B,IAAd,CAAmB,KAAnB,EAAyB,MAAKN,KAA9B,CAAP;AACD;AACD,eAAO,MAAKA,KAAZ;AACD,OANI;AAOLyC,WAAK,aAACzC,KAAD,EAAW;AACd,YAAI,MAAKA,KAAL,KAAeA,KAAnB,EAA0B;AACxB;AACD;;AAED,YAAI,MAAKmC,QAAT,EAAmB;AACjB,gBAAKnC,KAAL,GAAa,MAAKmC,QAAL,CAAc7B,IAAd,CAAmB,KAAnB,EAAyBN,KAAzB,CAAb;AACA,gBAAK0C,MAAL;AACA;AACD;;AAED,YAAI1C,UAAU,IAAd,EAAoB;AAClB,gBAAKA,KAAL,GAAaA,KAAb;AACA,gBAAK0C,MAAL;AACA;AACD;;AAED,YAAI1C,iBAAiBoB,OAArB,EAA8B;AAC5B,gBAAKpB,KAAL,GAAaA,KAAb;AACA,gBAAK0C,MAAL;AACA;AACD;;AAED,YAAI,QAAO1C,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AAC7B,cAAI,WAAWA,KAAf,EAAsB;AACpB,kBAAKA,KAAL,GAAaA,KAAb;AACA,kBAAK0C,MAAL;AACA;AACD;;AAED,cAAI,aAAa1C,KAAjB,EAAwB;AACtB,kBAAKoC,UAAL,CAAgBpC,MAAM8B,OAAtB;AACA,gBAAI,EAAE,WAAW9B,KAAb,CAAJ,EAAyB;AAC1B;;AAED,cAAI,WAAWA,KAAf,EAAsB;AACpB,kBAAKA,KAAL,GAAaA,MAAMA,KAAnB;AACA,kBAAK0C,MAAL;AACA;AACD;;AAEDL,0BAAMC,IAAN,CAAWtC,KAAX,EAAkB,UAAC2B,GAAD,EAAMY,GAAN,EAAc;AAC9B,gBAAI,MAAKvC,KAAL,KAAe,IAAnB,EAAyB;AACvB,oBAAKA,KAAL,GAAa,EAAb;AACD;;AAED,gBAAIuC,OAAO,MAAKvC,KAAhB,EAAuB;AACrB,oBAAKA,KAAL,CAAWuC,GAAX,IAAkBZ,GAAlB;AACD,aAFD,MAEO;AACLhC,qBAAOC,cAAP,CAAsB,MAAKI,KAA3B,EAAkCuC,GAAlC,EAAuC,IAAIN,UAAJ,CAAeN,GAAf,CAAvC;AACD;AACF,WAVD;AAWD;;AAED,cAAK3B,KAAL,GAAaA,KAAb;AACA,cAAK0C,MAAL;AACD,OA/DI;AAgELC,iBAAW,IAhEN;AAiEL7C,kBAAY,IAjEP;AAkELD,oBAAc;AAlET,KAAP;AAoED;;;;6BAES;AAAA;;AACR,WAAK6B,QAAL,CAAclC,OAAd,CAAsB,UAACsC,OAAD,EAAa;AACjC,YAAI,OAAO,OAAK9B,KAAZ,KAAsB,UAA1B,EAAsC;AACpC8B,kBAAQ,OAAK9B,KAAL,EAAR;AACD,SAFD,MAEO;AACL8B,kBAAQ,OAAK9B,KAAb;AACD;AACF,OAND;AAOD;;;+BAEW8B,O,EAAS;AAAA;;AACnB,UAAI3B,MAAMyC,OAAN,CAAcd,OAAd,CAAJ,EAA4B;AAC1B,aAAKJ,QAAL,GAAgB,KAAKA,QAAL,CAAcmB,MAAd,CAAqBf,QAAQgB,GAAR,CAAY,UAACC,EAAD,EAAQ;AACrD,iBAAOA,GAAGC,IAAH,CAAQ,OAAKd,IAAb,CAAP;AACD,SAFkC,CAArB,CAAhB;AAID;AACD,UAAI,OAAOJ,OAAP,KAAmB,UAAvB,EAAmC;AACjC,aAAKJ,QAAL,CAAcuB,IAAd,CAAmBnB,QAAQkB,IAAR,CAAa,KAAKd,IAAlB,CAAnB;AACD;AACF;;;;;;kBAnJkBD,U;;;;;;;;;;;;;ACFrB;;;;;kBAEe;AACbiB,WAAS,IADI;AAEbC,QAAM,IAFO;AAGbC,QAAM;AAHO,C;;;;;;;;;;;;;ACFf;;AAEA;;;;;;;;AAKA;;;AAJA;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;;;;;IAEqBC,S;AACnB,qBAAaC,MAAb,EAAqB;AAAA;;AACnBC,qBAAO/B,IAAP,GAAc8B,OAAO9B,IAAP,IAAe,EAA7B;AACA+B,qBAAOC,MAAP,GAAgBF,OAAOE,MAAP,IAAiB,EAAjC;AACAD,qBAAOL,OAAP,GAAiBI,OAAOJ,OAAP,IAAkB,EAAnC;AACD;;;;2BAEOO,E,EAAI;AACZ,UAAMC,SAAS3B,gBAAM4B,QAAN,CAAeF,EAAf,CAAf;AACAF,uBAAOJ,IAAP,GAAcpB,gBAAM6B,QAAN,CAAeF,MAAf,CAAd;;AAEA,UAAI,CAAC,SAAD,IAAcjD,SAASoD,aAAT,CAAuB,UAAvB,CAAlB,EAAsD;AACpD,aAAKC,iBAAL,CAAuBP,iBAAOJ,IAA9B;AACD;;AAED,aAAO,IAAIY,yBAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,SAAC,CAAC,UAACC,KAAD,EAAW;AACX,cAAIzD,SAAS0D,UAAT,KAAwB,SAA5B,EAAuC;AACrCH,oBAAQE,OAAR;AACD,WAFD,MAEO;AACLzD,qBAAS2D,gBAAT,CAA0B,kBAA1B,EAA8C,YAAM;AACpDJ,sBAAQE,OAAR;AACD,aAFC;AAGH;AACA,SARA,EAQE,YAAM;AACL,cAAIG,KAAKC,YAAYC,GAAZ,EAAT;AACA,cAAIC,QAAQ,IAAIC,eAAJ,CAAUf,MAAV,CAAZ;;AAEA3B,0BAAM2C,IAAN,CAAWF,KAAX;;AAEA,cAAIG,KAAKL,YAAYC,GAAZ,EAAT;AACAK,kBAAQC,GAAR,CAAY,2BAA2BF,KAAKN,EAAhC,IAAsC,gBAAlD;AACA,iBAAOG,KAAP;AACD,SAjBF;AAkBA,OAnBI,CAAP;AAoBC;;;sCAEkBrB,I,EAAM;AACvB,UAAM2B,gBAAgB/C,gBAAMgD,eAAN,EAAtB;AACA,UAAMC,iBAAiBvE,SAASoD,aAAT,CAAuB,QAAvB,CAAvB;AACAmB,qBAAeC,SAAf,GAA2B,oCAA3B;AACAH,oBAAcI,SAAd,GAA0B,uCAA1B;AACA/B,WAAKrC,WAAL,CAAiBgE,aAAjB;AACA3B,WAAKrC,WAAL,CAAiBkE,cAAjB;AACA;AACD;;;;;;kBA7CkB3B,S;;;AAgDrB,IAAI8B,UAAUA,OAAO9B,SAAP,KAAqB+B,SAAnC,EAA8C;AAC5CD,SAAO9B,SAAP,GAAmBA,SAAnB;AACD;;;;;;;;;;;;;AC9DD;;;;;;;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;IAEqBgC,K;AACnB,iBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAClB,SAAKC,UAAL,GAAkBxD,gBAAMgD,eAAN,EAAlB;AACA,SAAKS,MAAL,GAAc,EAAd;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,UAAL,GAAkB,IAAlB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,MAAL,GAAc,EAAd;AACA,SAAKR,KAAL,GAAaA,KAAb;AACA,SAAKS,EAAL,GAAUT,MAAMU,YAAN,CAAmB,IAAnB,KAA4BjE,gBAAMkE,GAAN,EAAtC;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKC,KAAL,GAAad,MAAMe,WAAnB;AACA,SAAKC,MAAL,GAAchB,MAAMiB,YAApB;AACA,SAAKC,KAAL,GAAa,OAAb;AACA,SAAKC,KAAL,GAAa,KAAb;AACA,SAAKC,SAAL,GAAiB,EAAjB;AACA,SAAKlD,MAAL,GAAc,EAAd;AACA,SAAK9B,QAAL,GAAgB,EAAhB;;AAEA6B,qBAAOH,IAAP,CAAY,KAAK2C,EAAjB,IAAuB;AACrBY,eAAS,KAAKA,OADO;AAErBZ,UAAI,KAAKA,EAFY;AAGrBG,YAAM,KAAKA,IAHU;AAIrBU,gBAAUtB,MAAMsB;AAJK,KAAvB;;AAOA,SAAKC,KAAL,GAAa;AACXvB,aAAOA,KADI;AAEXwB,cAAQ,KAAKA,MAAL,CAAY9D,IAAZ,CAAiB,IAAjB,CAFG;AAGXmD,iBAAW,KAAKA,SAHL;AAIXY,UAAI,KAAKA,EAAL,CAAQ/D,IAAR,CAAa,IAAb,CAJO;AAKXgE,YAAM,KAAKA,IAAL,CAAUhE,IAAV,CAAe,IAAf,CALK;AAMXiE,cAAQ,KAAKA,MAAL,CAAYjE,IAAZ,CAAiB,IAAjB,CANG;AAOXkE,eAAS,KAAKA,OAAL,CAAalE,IAAb,CAAkB,IAAlB,CAPE;AAQXmE,YAAM,KAAKA,IAAL,CAAUnE,IAAV,CAAe,IAAf,CARK;AASXoE,kBAAY,KAAKA,UAAL,CAAgBpE,IAAhB,CAAqB,IAArB,CATD;AAUX;AACAE,eAAS,KAAKA,OAAL,CAAaF,IAAb,CAAkB,IAAlB,CAXE;AAYXqE,cAAQ,KAAKA,MAAL,CAAYrE,IAAZ,CAAiB,IAAjB,CAZG;AAaXsE,aAAO,KAAKA,KAAL,CAAWtE,IAAX,CAAgB,IAAhB;AAbI,KAAb;;AAgBA,QAAI,KAAK+C,EAAL,KAAYT,MAAMU,YAAN,CAAmB,IAAnB,CAAhB,EAA0C;AACxCV,YAAMiC,YAAN,CAAmB,IAAnB,EAAyB,KAAKxB,EAA9B;AACD;;AAEDpG,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,IAAlC,EAAwC;AACtCrE,WAAK,eAAM;AACT,eAAO,MAAKuD,EAAZ;AACD;AAHqC,KAAxC;;AAMA,QAAIT,MAAMqB,OAAV,EAAmB;AACjB,WAAKA,OAAL,GAAerB,MAAMqB,OAAN,CAAca,WAAd,EAAf;;AAEA7H,aAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,SAAlC,EAA6C;AAC3CrE,aAAK,eAAM;AACT,iBAAO,MAAKmE,OAAZ;AACD;AAH0C,OAA7C;AAKD;;AAED,QAAI,KAAKA,OAAL,KAAiB,UAArB,EAAiC;AAC/B,WAAKc,SAAL,GAAiB1F,gBAAM2F,eAAN,CAAsBpC,KAAtB,CAAjB;AACA,WAAKuB,KAAL,CAAWY,SAAX,GAAuB,KAAKA,SAA5B;AACD;;AAGD9H,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,MAAlC,EAA0C;AACxCrE,WAAK,eAAM;AACT,eAAO,MAAK0D,IAAZ;AACD,OAHuC;AAIxCzD,WAAK,aAACd,GAAD,EAAS;AACZ,YAAIA,GAAJ,EAAS;AACP,cAAI2D,MAAMG,KAAN,CAAYkC,cAAhB,EAAgC;AAC9BrC,kBAAMG,KAAN,CAAYkC,cAAZ,CAA2B,SAA3B;AACD,WAFD,MAEO;AACLrC,kBAAMG,KAAN,CAAYmC,eAAZ,CAA4B,SAA5B;AACD;AACF,SAND,MAMO;AACLtC,gBAAMG,KAAN,CAAYoC,OAAZ,GAAsB,MAAtB;AACD;AACD,cAAK3B,IAAL,GAAYvE,GAAZ;AACD;AAfuC,KAA1C;;AAkBAhC,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,MAAlC,EAA0C;AACxCrE,WAAK,eAAM;AACT,eAAO,MAAKqD,IAAZ;AACD,OAHuC;AAIxCpD,WAAK,aAACd,GAAD,EAAS;AACZ,cAAKkE,IAAL,GAAYlE,GAAZ;AACA,eAAO,MAAKkE,IAAZ;AACD;AAPuC,KAA1C;;AAUAlG,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,MAAlC,EAA0C;AACxCrE,WAAK,eAAM;AACT,eAAO,MAAKoD,IAAZ;AACD,OAHuC;AAIxCnD,WAAK,aAACd,GAAD,EAAS;AACZ,cAAKiE,IAAL,GAAYjE,GAAZ;AACA,eAAO,MAAKiE,IAAZ;AACD;AAPuC,KAA1C;;AAUAjG,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,OAAlC,EAA2C;AACzCrE,WAAK,eAAM;AACT,eAAO,MAAKkD,UAAZ;AACD,OAHwC;AAIzCjD,WAAK,aAACd,GAAD,EAAS;AACZ,cAAK+D,UAAL,GAAkB/D,GAAlB;AACA,eAAO,MAAK+D,UAAZ;AACD;AAPwC,KAA3C;;AAUA/F,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,QAAlC,EAA4C;AAC1CrE,WAAK,eAAM;AACT,eAAO,MAAKsF,MAAZ;AACD,OAHyC;AAI1CrF,WAAK,aAACd,GAAD,EAAS;AACZ,cAAKmG,MAAL,GAAcnG,GAAd;AACA,eAAO,MAAKmG,MAAZ;AACD;AAPyC,KAA5C;;AAUAnI,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,QAAlC,EAA4C;AAC1CrE,WAAK,eAAM;AACT,eAAO,MAAKgB,MAAZ;AACD,OAHyC;AAI1Cf,WAAK,qBAAU;AACb,cAAKe,MAAL,GAAcA,MAAd;AACA,cAAKuE,WAAL;AACD;AAPyC,KAA5C;;AAUApI,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,OAAlC,EAA2C;AACzCrE,WAAK,eAAM;AACT,eAAO,MAAKgE,KAAZ;AACD,OAHwC;AAIzC/D,WAAK,oBAAS;AACZ,YAAI,MAAK+D,KAAL,KAAeA,KAAnB,EAA0B;AACxB,gBAAKA,KAAL,GAAaA,KAAb;AACA,gBAAKuB,WAAL;AACD;AACF;AATwC,KAA3C;;AAYApI,WAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,OAAlC,EAA2C;AACzCrE,WAAK,eAAM;AACT,cAAKwF,YAAL,CAAkB,MAAKvC,KAAvB,EAA8B,MAAKF,UAAnC,EAA+C,MAAKQ,EAApD;AACA,eAAO,MAAKN,KAAZ;AACD,OAJwC;AAKzChD,WAAK,aAACd,GAAD,EAAS;AACZhC,eAAOsI,MAAP,CAAc,MAAKxC,KAAnB,EAA0B9D,GAA1B;AACA,cAAKqG,YAAL,CAAkB,MAAKvC,KAAvB,EAA8B,MAAKF,UAAnC,EAA+C,MAAKQ,EAApD;AACA,eAAO,MAAKN,KAAZ;AACD;AATwC,KAA3C;;AAYA,QAAIH,MAAMqB,OAAN,KAAkB,OAAtB,EAA+B;AAC7BhH,aAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkC,OAAlC,EAA2C;AACzCrE,aAAK,eAAM;AACT,iBAAO,MAAK8C,KAAL,CAAWtF,KAAlB;AACD,SAHwC;AAIzCyC,aAAK,aAACd,GAAD,EAAS;AACZ,gBAAK2D,KAAL,CAAWtF,KAAX,GAAmB2B,GAAnB;AACD;AANwC,OAA3C;AAQD;;AAED,SAAK2D,KAAL,CAAWlB,gBAAX,CAA4B,WAA5B,EAAyC,YAAM;AAC7C,YAAK2D,WAAL,CAAiB,OAAjB;AACD,KAFD;;AAIA,SAAKzC,KAAL,CAAWlB,gBAAX,CAA4B,UAA5B,EAAwC,YAAM;AAC5C,YAAK2D,WAAL;AACD,KAFD;;AAIAhG,oBAAMmG,KAAN,CAAY5C,MAAM6C,UAAlB,EAA8B,UAACA,UAAD;AAAA,aAAgBpG,gBAAMO,IAAN,CAAW6F,UAAX,EAAuB,UAACC,SAAD,EAAe;AAClF,YAAIC,WAAWtG,gBAAMuG,eAAN,CAAsBF,UAAUG,QAAhC,CAAf;AACA,YAAIC,aAAaJ,UAAUK,SAA3B;;AAEA,YAAI,CAAC,MAAKJ,QAAL,CAAD,IAAmBA,aAAa,IAAhC,IAAwCA,aAAa,KAAzD,EAAgE;AAC9D,gBAAKA,QAAL,IAAiBG,UAAjB;AACAjF,2BAAOH,IAAP,CAAY,MAAK2C,EAAjB,EAAqBsC,QAArB,IAAiCG,UAAjC;;AAEA,cAAI,CAACA,WAAWE,OAAX,CAAmB,IAAnB,CAAL,EAA+B;AAC7BF,uBAAWG,OAAX,CAAmB5G,gBAAM6G,aAAzB,EAAwC,UAACC,KAAD,EAAQC,QAAR,EAAqB;;AAE3D,kBAAIC,OAAOD,SAASE,KAAT,CAAe,GAAf,CAAX;;AAEA,eAAC,SAAS1G,IAAT,CAAe2G,GAAf,EAAoBC,KAApB,EAA2BH,IAA3B,EAAiCI,KAAjC,EAAwC;AACvC,oBAAI5G,MAAMwG,KAAKI,KAAL,CAAV;AACA,oBAAIA,QAAQJ,KAAKK,MAAL,GAAc,CAA1B,EAA6B;AAC3BH,sBAAI1G,GAAJ,IAAW,EAAX;AACA2G,wBAAM3G,GAAN,IAAa,EAAb;AACA4G;AACA7G,uBAAK2G,IAAI1G,GAAJ,CAAL,EAAe2G,MAAM3G,GAAN,CAAf,EAA2BwG,IAA3B,EAAiCI,KAAjC;AACD,iBALD,MAKO;AACLD,wBAAM3G,GAAN,IAAaiG,UAAb;AACA7I,yBAAOC,cAAP,CAAsBqJ,GAAtB,EAA2B1G,GAA3B,EAAgC;AAC9BC,yBAAK,eAAM;AACT,6BAAO0G,MAAM3G,GAAN,CAAP;AACD,qBAH6B;AAI9BE,yBAAK,aAACd,GAAD,EAAS;AACZ,uBAAEI,gBAAMsH,QAAN,CAAe,UAAC/D,KAAD,EAAW;AAC1BA,8BAAMiC,YAAN,CAAmBxF,gBAAMuH,eAAN,CAAsBjB,QAAtB,CAAnB,EAAoDa,MAAM3G,GAAN,EAAWoG,OAAX,CAAmBE,KAAnB,EAA0BlH,GAA1B,CAApD;AACD,uBAFC,CAAD,CAEG2D,KAFH;AAGF;AAR6B,mBAAhC;AAUD;AACF,eApBD,EAoBG,MAAKuB,KApBR,EAoBe,KApBf,EAoBqBkC,IApBrB,EAoB2B,CApB3B;AAqBD,aAzBD;AA0BD,WA3BD,MA2BO;AACLpJ,mBAAOC,cAAP,CAAsB,MAAKiH,KAA3B,EAAkCwB,QAAlC,EAA4C;AAC1C7F,mBAAK,eAAM;AACT,uBAAO,MAAK6F,QAAL,CAAP;AACD,eAHyC;AAI1C5F,mBAAK,aAACd,GAAD,EAAS;AACZ,oBAAI,MAAK0G,QAAL,MAAmB1G,GAAvB,EAA4B;AAC1B,wBAAK0G,QAAL,IAAiB1G,GAAjB;;AAEA,mBAAEI,gBAAMsH,QAAN,CAAe,UAAC/D,KAAD,EAAW;AAC1BA,0BAAMiC,YAAN,CAAmBxF,gBAAMuH,eAAN,CAAsBjB,QAAtB,CAAnB,EAAoD,MAAKA,QAAL,CAApD;AACD,mBAFC,CAAD,CAEG/C,KAFH;AAGF;AACF;AAZyC,aAA5C;AAcD;AACF;AACF,OApD6C,CAAhB;AAAA,KAA9B;;AAsDAvD,oBAAMmG,KAAN,CAAY5C,MAAMiE,UAAlB,EAA8B,UAACC,SAAD;AAAA,aAAezH,gBAAMO,IAAN,CAAWkH,SAAX,EAAsB,UAACC,MAAD,EAAY;AAC7E,YAAIA,OAAO7C,QAAP,KAAoB,CAAxB,EAA2B;AACzB,cAAI8C,QAAQ,IAAIrE,KAAJ,CAAUoE,MAAV,CAAZ;AACAC,gBAAM5B,MAAN,GAAe,MAAKjB,KAApB;;AAEA,cAAI,CAAC,MAAKlB,SAAV,EAAqB;AACnB,kBAAKD,UAAL,GAAkBgE,KAAlB;AACA,kBAAK7C,KAAL,CAAW6C,KAAX,GAAmBA,KAAnB;AACAnG,6BAAOH,IAAP,CAAY,MAAK2C,EAAjB,EAAqB2D,KAArB,GAA6BA,MAAM3D,EAAnC;AACD,WAJD,MAIO;AACL,kBAAKJ,SAAL,CAAeC,IAAf,GAAsB8D,KAAtB;AACAA,kBAAM7D,IAAN,GAAa,MAAKF,SAAlB;AACApC,6BAAOH,IAAP,CAAY,MAAKuC,SAAL,CAAeI,EAA3B,EAA+BH,IAA/B,GAAsC8D,MAAM3D,EAA5C;AACD;AACD,gBAAKJ,SAAL,GAAiB+D,KAAjB;AACD;;AAED3H,wBAAM4H,WAAN,CAAkBF,MAAlB,EAA0B,UAACG,SAAD,EAAe;AACvC,gBAAKzD,SAAL,CAAelD,IAAf,CAAoB,IAAI4G,kBAAJ,CAAaD,SAAb,EAAwB,MAAK/C,KAA7B,CAApB;AACD,SAFD;AAGD,OApB4C,CAAf;AAAA,KAA9B;;AAsBA,QAAIvB,MAAMU,YAAN,CAAmB,KAAnB,CAAJ,EAA+B;AAC7B,UAAI8D,OAAOxE,MAAMU,YAAN,CAAmB,KAAnB,EAA0BgD,KAA1B,CAAgC,MAAhC,CAAX;AACA,UAAIzG,MAAMuH,KAAK,CAAL,CAAV;AACA,UAAItI,OAAOsI,KAAK,CAAL,CAAX;AACA,WAAKhE,MAAL,GAAc,EAAd;;AAEAnG,aAAOC,cAAP,CAAsB,KAAKiH,KAA3B,EAAkCrF,IAAlC,EAAwC;AACtCiB,aAAK,aAACsH,IAAD,EAAU;AACb,gBAAKvI,IAAL,IAAauI,IAAb;AACAhI,0BAAMmG,KAAN,CAAY6B,IAAZ,EAAkB,UAACA,IAAD,EAAU;AAC1B,kBAAKC,UAAL,CAAgBD,IAAhB,EAAsBxH,GAAtB;AACD,WAFD;AAGD,SANqC;AAOtCC,aAAK,eAAM;AACT,iBAAO,MAAKhB,IAAL,CAAP;AACD;AATqC,OAAxC;AAWD;;AAED,QAAIyI,cAAJ,CAAmB,UAACC,OAAD,EAAUC,QAAV,EAAuB;AAAA;AAAA;AAAA;;AAAA;AACxC,6BAAoBD,OAApB,8HAA6B;AAAA,cAAlBE,KAAkB;AAAA,mCACUA,MAAMC,WADhB;AAAA,cACnBC,IADmB,sBACnBA,IADmB;AAAA,cACbC,GADa,sBACbA,GADa;AAAA,cACRnE,KADQ,sBACRA,KADQ;AAAA,cACDE,MADC,sBACDA,MADC;;AAE3B1B,kBAAQC,GAAR,CAAYyF,IAAZ,EAAkBC,GAAlB,EAAuBnE,KAAvB,EAA8BE,MAA9B;AACA,gBAAKF,KAAL,GAAaA,KAAb;AACA,gBAAKE,MAAL,GAAcA,MAAd;AACA,gBAAKiE,GAAL,GAAWA,GAAX;AACA,gBAAKD,IAAL,GAAYA,IAAZ;AACD;AARuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASzC,KATD,EASGE,OATH,CASW,KAAKlF,KAThB;;AAWA,QAAImF,MAAM,CAAC,KAAD,EAAQ,MAAR,EAAgB,OAAhB,EAAyB,QAAzB,CAAV;;AAEAA,QAAIjL,OAAJ,CAAY,UAACkL,CAAD,EAAO;AACjB/K,aAAOC,cAAP,CAAsB,MAAKiH,KAA3B,EAAkC6D,CAAlC,EAAqC;AACnClI,aAAK,eAAM;AACT,iBAAO,MAAKkI,CAAL,CAAP;AACD,SAHkC;AAInCjI,aAAK,aAACd,GAAD,EAAS;AACZ,gBAAK8D,KAAL,CAAWiF,CAAX,IAAgB/I,GAAhB;AACD;AANkC,OAArC;AAQD,KATD;;AAWA,QAAI4B,iBAAOL,OAAP,KAAmB,IAAvB,EAA6B;AAC3B,WAAKA,OAAL,CAAaK,iBAAOL,OAApB;AACD;;AAED,WAAO,KAAK2D,KAAZ;AACD;;;;2BAEM8D,K,EAAOlJ,E,EAAImJ,U,EAAY;AAAA;;AAC5BA,mBAAaA,cAAc,KAA3B;AACA,WAAKtF,KAAL,CAAWlB,gBAAX,CAA4BuG,KAA5B,EAAmC,UAACE,CAAD;AAAA,eAAOpJ,GAAGqJ,KAAH,CAAS,OAAKjE,KAAd,EAAqB,CAACgE,CAAD,CAArB,CAAP;AAAA,OAAnC,EAAqED,UAArE;AACD;;;2BAEOtF,K,EAAOyF,O,EAAS;AAAA;;AACtB,UAAI7I,OAAO,IAAImD,KAAJ,CAAUC,KAAV,CAAX;AACApD,WAAK4F,MAAL,GAAc,KAAKjB,KAAnB;;AAEA,UAAI,CAAC,KAAKnB,UAAV,EAAsB;AACpB,aAAKA,UAAL,GAAkBxD,IAAlB;AACD;;AAED,UAAI,KAAKyD,SAAT,EAAoB;AAClBzD,aAAK2D,IAAL,GAAY,KAAKF,SAAjB;AACA,aAAKA,SAAL,CAAeC,IAAf,GAAsB1D,IAAtB;AACD;;AAED,WAAKyD,SAAL,GAAiBzD,IAAjB;;AAECH,sBAAMsH,QAAN,CAAe,YAAM;AACpB,eAAK/D,KAAL,CAAWxE,WAAX,CAAuBoB,KAAKoD,KAA5B;AACAvD,wBAAM2C,IAAN,CAAWxC,IAAX,EAAiB6I,OAAjB;AACD,OAHA,CAAD;;AAKA,aAAO7I,IAAP;AACD;;;+BAEU6H,I,EAAMxH,G,EAAK;AAAA;;AACpBR,sBAAMsH,QAAN,CAAe,YAAM;AACnBtH,wBAAMO,IAAN,CAAWyH,IAAX,EAAiB,UAACpI,GAAD,EAAMqJ,CAAN,EAAY;AAC3B,cAAIC,UAAU,OAAKxD,SAAL,CAAeyD,QAAf,CAAwB,CAAxB,EAA2BC,SAA3B,CAAqC,IAArC,CAAd;AACA,cAAIrF,SAAS,OAAKgC,MAAL,CAAYb,MAAZ,CAAmBgE,OAAnB,CAAb;;AAEA,cAAInF,OAAOtE,IAAP,KAAgBe,GAApB,EAAyB;AACvB,mBAAKuD,MAAL,CAAYvD,GAAZ,EAAiB8E,MAAjB,CAAwB1F,GAAxB;AACA,mBAAKmE,MAAL,CAAYvD,GAAZ,EAAiB4D,SAAjB,CAA2B3G,OAA3B,CAAmC,UAAC4L,QAAD,EAAc;AAAEA,uBAAS1I,MAAT;AAAmB,aAAtE;AACD;;AAEDoD,iBAAOqB,IAAP,CAAY5E,GAAZ,EAAiB,UAACL,IAAD,EAAU;AACzB,aAAC,SAASI,IAAT,CAAcJ,IAAd,EAAoBV,IAApB,EAA0B;;AAEzBO,8BAAMO,IAAN,CAAWd,IAAX,EAAiB,UAAC6J,CAAD,EAAIL,CAAJ,EAAU;AACzB,oBAAIA,KAAK9I,IAAT,EAAe;AACb,sBAAI,QAAOmJ,CAAP,yCAAOA,CAAP,OAAa,QAAjB,EAA2B;AACzBnJ,yBAAK8I,CAAL,IAAUK,CAAV;AACD,mBAFD,MAEO;AACL/I,yBAAKJ,KAAK8I,CAAL,CAAL,EAAcK,CAAd;AACD;AACF,iBAND,MAMO;AACL,sBAAI,OAAOnJ,KAAKmF,MAAZ,KAAuB,UAA3B,EAAuC;AACrCnF,yBAAKmF,MAAL,qBAAe2D,CAAf,EAAmBK,CAAnB;AACD;AACF;AACF,eAZD;AAaD,aAfD,EAeGnJ,KAAKK,GAAL,CAfH,EAecZ,GAfd;AAgBD,WAjBD;AAkBD,SA3BD;AA4BD,OA7BD;AA8BD;;;yBAEKgJ,K,EAAOW,O,EAAS;AACpB,UAAIC,UAAU,IAAd;AACAD,gBAAUA,WAAW,KAAKzE,KAA1B;;AAEA,UAAI,KAAKrB,MAAL,KAAgBJ,SAApB,EAA+B;AAC7B,aAAKI,MAAL,GAAc,EAAd;AACD;;AAED,UAAI,KAAKA,MAAL,CAAYmF,KAAZ,CAAJ,EAAwB;AACtB,aAAK,IAAIa,IAAI,CAAb,EAAgBA,IAAI,KAAKhG,MAAL,CAAYmF,KAAZ,EAAmBvB,MAAvC,EAA+CoC,GAA/C,EAAoD;AAClD,cAAIX,IAAI,KAAKrF,MAAL,CAAYmF,KAAZ,EAAmBa,CAAnB,CAAR;;AAEAX,YAAE9H,EAAF,CAAKuI,OAAL;AACAC,oBAAU,CAACV,EAAEU,OAAH,GAAaV,EAAEU,OAAf,GAAyBA,OAAnC;AACD;AACF;;AAED,WAAKxD,WAAL,CAAiB4C,KAAjB;;AAEA,UAAIY,WAAW,KAAKzD,MAApB,EAA4B;AAC1B,aAAKA,MAAL,CAAYd,IAAZ,CAAiB2D,KAAjB,EAAwBW,OAAxB;AACD;AACF;;;2BAEO9J,I,EAAM;AACZ,UAAMiK,MAAM,IAAZ,CACE,CAAC,SAASnJ,IAAT,CAAcuE,KAAd,EAAqBrF,IAArB,EAA2B;AAC5BO,wBAAMmG,KAAN,CAAY1G,IAAZ,EAAkB,UAACA,IAAD;AAAA,iBAAUO,gBAAMO,IAAN,CAAWd,IAAX,EAAiB,UAACxB,KAAD,EAAQuC,GAAR,EAAgB;AAC3D,gBAAIsE,MAAMtE,GAAN,MAAe6C,SAAnB,EAA8B;AAC5B,oBAAM,kCAAN;AACD;;AAED,gBAAI,OAAOpF,KAAP,KAAiB,UAArB,EAAiC;AAC/B,kBAAI0L,SAAQ,IAAInK,cAAJ,CAASvB,MAAMgD,IAAN,CAAW6D,KAAX,CAAT,EAA4B,YAAM;AAC5C,uBAAO4E,IAAI/J,QAAJ,CAAaa,GAAb,KAAqB,IAA5B;AACD,eAFW,CAAZ;;AAIA5C,qBAAOC,cAAP,CAAsBiH,KAAtB,EAA6BtE,GAA7B,EAAkC;AAChCC,qBAAK,eAAM;AACT,yBAAOkJ,OAAMlJ,GAAN,EAAP;AACD,iBAH+B;AAIhC3C,8BAAc;AAJkB,eAAlC;AAMD,aAXD,MAWO,IAAI,QAAOG,KAAP,yCAAOA,KAAP,OAAiB,QAArB,EAA+B;AACpC6G,oBAAMtE,GAAN,IAAasE,MAAMtE,GAAN,KAAc,EAA3B;AACAD,mBAAKuE,MAAMtE,GAAN,CAAL,EAAiBvC,KAAjB;AACD,aAHM,MAGA;AACL,kBAAI0L,UAAQ,IAAInK,cAAJ,CAASvB,KAAT,EAAgB,YAAM;AAChC,uBAAOyL,IAAI/J,QAAJ,CAAaa,GAAb,KAAqB,IAA5B;AACD,eAFW,CAAZ;;AAIA5C,qBAAOC,cAAP,CAAsBiH,KAAtB,EAA6BtE,GAA7B,EAAkC;AAChCC,qBAAK,eAAM;AACT,yBAAOkJ,QAAMlJ,GAAN,EAAP;AACD,iBAH+B;AAIhCC,qBAAK,aAACd,GAAD,EAAS;AACZ+J,0BAAMjJ,GAAN,CAAUd,GAAV;AACD,iBAN+B;AAOhC9B,8BAAc;AAPkB,eAAlC;AASD;AACF,WAlC2B,CAAV;AAAA,SAAlB;AAmCD,OApCC,EAoCC,KAAKgH,KApCN,EAoCarF,IApCb;AAqCH;;;yBAEK6G,Q,EAAUrI,K,EAAOyB,E,EAAI;AACzB,UAAIkK,SAAS,EAAb;;AAEAtD,iBAAWtG,gBAAMuG,eAAN,CAAsBD,QAAtB,CAAX;;AAEA,OAAC,SAASuD,GAAT,CAAapH,KAAb,EAAoB;AACnB,YAAIA,KAAJ,EAAW;AACT,cAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiC,OAAOpF,KAAP,KAAiB,UAAtD,EAAkE;AAChEA,kBAAMwE,KAAN;AACAmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AAED,WAJD,MAIO,IAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiCZ,MAAM6D,QAAN,EAAgBW,KAAhB,CAAsB,GAAtB,EAA2B6C,QAA3B,CAAoC7L,KAApC,CAArC,EAAiF;AACtF,gBAAI,OAAOyB,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,iBAAG+C,KAAH;AACD;;AAEDmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AACD;;AAID,cAAIA,MAAMkF,KAAV,EAAiB;AACfkC,gBAAIpH,MAAMkF,KAAV;AACD;;AAED,cAAIlF,MAAMoB,IAAV,EAAgB;AACdgG,gBAAIpH,MAAMoB,IAAV;AACD;AACF;AAEF,OAzBD,EAyBG,KAAKF,UAzBR;;AA2BA,aAAOiG,MAAP;AACD;;;+BAEWtD,Q,EAAUrI,K,EAAOyB,E,EAAI;AAC/B,UAAIkK,SAAS,EAAb;AACAtD,iBAAWtG,gBAAMuG,eAAN,CAAsBD,QAAtB,CAAX;;AAEA,OAAC,SAASuD,GAAT,CAAapH,KAAb,EAAoB;AACnB,YAAIA,KAAJ,EAAW;AACT,cAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiCZ,MAAM6D,QAAN,EAAgBW,KAAhB,CAAsB,GAAtB,EAA2B6C,QAA3B,CAAoC7L,KAApC,CAArC,EAAiF;AAC/E,gBAAI,OAAOyB,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,iBAAG+C,KAAH;AACD;;AAEDmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AACD;;AAED,cAAIA,MAAMsD,MAAV,EAAkB;AAChB8D,gBAAIpH,MAAMsD,MAAV;AACD;AACF;AAEF,OAfD,EAeG,KAAKpC,UAfR;;AAiBA,aAAOiG,MAAP;AACD;;;uBAEGhB,K,EAAO5H,E,EAAI;AACb4H,cAAQA,MAAM3B,KAAN,CAAY,GAAZ,CAAR;AACA,UAAI8C,OAAOnB,MAAM,CAAN,CAAX;AACA,UAAIY,UAAUZ,MAAM,CAAN,MAAa,MAA3B;;AAEA,UAAI,KAAKnF,MAAL,KAAgBJ,SAApB,EAA+B;AAC7B,aAAKI,MAAL,GAAc,EAAd;AACD;;AAED,UAAI,KAAKA,MAAL,CAAYsG,IAAZ,MAAsB1G,SAA1B,EAAqC;AACnC,aAAKI,MAAL,CAAYsG,IAAZ,IAAoB,EAApB;AACD;;AAED,WAAKtG,MAAL,CAAYsG,IAAZ,EAAkB7I,IAAlB,CAAwB,EAACF,IAAIA,EAAL,EAASwI,SAASA,OAAlB,EAAxB;AACD;;;4BAEOQ,O,EAAS;AAAA;;AACf,UAAI,CAACA,QAAQ3C,MAAT,GAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;;AAEDrH,sBAAMmG,KAAN,CAAY6D,OAAZ,EAAqB;AAAA,eAAMhK,gBAAMO,IAAN,CAAWyJ,OAAX,EAAoB,UAACC,MAAD,EAAY;AACzD,iBAAK3E,MAAL,CAAY,IAAI2E,MAAJ,CAAW,MAAX,CAAZ;AACD,SAF0B,CAAN;AAAA,OAArB;AAGD;;;4BAEO1G,K,EAAOyF,O,EAAS;AAAA;;AACtB,UAAI7I,OAAO,IAAImD,KAAJ,CAAUC,KAAV,CAAX;AACApD,WAAK4F,MAAL,GAAc,KAAKjB,KAAnB;;AAEA,UAAI,KAAKnB,UAAT,EAAqB;AACnBxD,aAAK0D,IAAL,GAAY,KAAKF,UAAjB;AACA,aAAKA,UAAL,CAAgBG,IAAhB,GAAuB3D,IAAvB;AACD;;AAED,WAAKwD,UAAL,GAAkBxD,IAAlB;;AAECH,sBAAMsH,QAAN,CAAe,YAAM;AACpB,eAAK/D,KAAL,CAAW4B,OAAX,CAAmBhF,KAAKoD,KAAxB;AACAvD,wBAAM2C,IAAN,CAAWxC,IAAX,EAAiB6I,OAAjB;AACD,OAHA,CAAD;;AAKA,aAAO7I,IAAP;AACD;;;2BAEM+J,I,EAAM;AAAA;;AACX,UAAI,CAACA,KAAKC,QAAN,IAAkB,KAAKvF,OAAL,KAAiB,UAAvC,EAAmD;AACjD;AACD;;AAED,UAAIuF,WAAWD,KAAKC,QAAL,IAAiB,KAAKA,QAArC;AACA,UAAI1K,OAAOyK,KAAKzK,IAAL,IAAa,EAAxB;AACA,UAAIuJ,UAAUkB,KAAKlB,OAAL,IAAgBxH,iBAAOwH,OAArC;AACA,UAAIhC,OAAOmD,SAASrD,KAAT,CAAe,sCAAf,CAAX;AACA,UAAIsD,QAAQ1L,SAAS2L,WAAT,EAAZ;;AAEArK,sBAAMmG,KAAN,CAAYa,IAAZ,EAAkB,UAACA,IAAD;AAAA,eAAUhH,gBAAMO,IAAN,CAAWyG,IAAX,EAAiB,UAACsD,GAAD,EAAS;AACpD,cAAI9J,MAAM8J,IAAI1D,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,EAA0B2D,IAA1B,EAAV;AACA,cAAItM,QAAQ+B,gBAAMwK,SAAN,CAAgBhK,GAAhB,EAAqBf,IAArB,CAAZ;;AAEA0K,qBAAWA,SAASvD,OAAT,CAAiB0D,GAAjB,EAAsBrM,KAAtB,CAAX;AACD,SAL2B,CAAV;AAAA,OAAlB;;AAOA,UAAIwM,OAAOL,MAAMM,wBAAN,CAA+BP,QAA/B,CAAX;;AAEA,aAAOnK,gBAAMmG,KAAN,CAAYsE,KAAKtB,QAAjB,EAA2B,UAAC1B,SAAD;AAAA,eAAezH,gBAAMO,IAAN,CAAWkH,SAAX,EAAsB,UAACC,MAAD,EAAY;AACjF,cAAI,OAAK9C,OAAL,KAAiB,UAArB,EAAiC;AAC/B,gBAAI,OAAKmB,MAAL,KAAgB1C,SAApB,EAA+B;AAC7B,qBAAO,OAAK0C,MAAL,CAAYb,MAAZ,CAAmBwC,MAAnB,EAA2BsB,OAA3B,CAAP;AACD;AACF,WAJD,MAIO;AACL,mBAAO,OAAK9D,MAAL,CAAYwC,MAAZ,EAAoBsB,OAApB,CAAP;AACD;AAEF,SATgD,CAAf;AAAA,OAA3B,CAAP;AAUD;;;gCAEYJ,K,EAAO;AAClBA,cAAQA,SAAS,IAAjB;AACA,UAAInE,QAAQ,IAAZ;AACA,UAAIZ,OAAQ,IAAZ;AACA,UAAI6F,MAAM,IAAV;;AAEA,UAAI,EAAE,KAAKjF,KAAL,IAAc,KAAKhD,MAArB,CAAJ,EAAkC;AAChC;AACD;;AAEDgD,cAAQ,KAAKhD,MAAL,CAAY,KAAKgD,KAAjB,CAAR;;AAEA,UAAI,CAACmE,KAAL,EAAY;AACV+B,gBAAQlG,KAAR;AACA;AACD;;AAED,UAAIA,MAAMO,EAAN,KAAa3B,SAAjB,EAA4B;AAC1B;AACD;;AAED,UAAI,EAAEuF,SAASnE,MAAMO,EAAjB,CAAJ,EAA0B;AACxB;AACD;;AAED,UAAI,OAAOP,MAAMO,EAAN,CAAS4D,KAAT,CAAP,KAA2B,QAA/B,EAAyC;AACvC,aAAKnE,KAAL,GAAaA,MAAMO,EAAN,CAAS4D,KAAT,CAAb;AACA/E,eAAO,KAAKpC,MAAL,CAAY,KAAKgD,KAAjB,CAAP;AACD;;AAED,UAAI,QAAOA,MAAMO,EAAN,CAAS4D,KAAT,CAAP,MAA2B,QAA/B,EAAyC;AACvC/E,eAAOY,MAAMO,EAAN,CAAS4D,KAAT,CAAP;AACD;;AAED+B,cAAQ9G,IAAR;;AAEA,eAAS8G,OAAT,CAAkBC,MAAlB,EAA0B;AACxB5K,wBAAMO,IAAN,CAAWqK,MAAX,EAAmB,UAAC3M,KAAD,EAAQuC,GAAR,EAAgB;AACjC,cAAIA,QAAQ,IAAZ,EAAkB;AAChB,gBAAI,OAAOvC,KAAP,KAAiB,UAArB,EAAiC;AAC/ByL,kBAAI5E,KAAJ,CAAUtE,GAAV,IAAiBvC,MAAMuD,iBAAOH,IAAP,CAAYqI,IAAI1F,EAAhB,EAAoBxD,GAApB,CAAN,CAAjB;AACD,aAFD,MAEO;AACLkJ,kBAAI5E,KAAJ,CAAUtE,GAAV,IAAiBvC,KAAjB;AACD;AACF;AACF,SARD;AASD;AACF;;;mCAEc;AAAA;;AACZ+B,sBAAMsH,QAAN,CAAe,YAAM;AACpB,YAAI,CAACtH,gBAAMmG,KAAN,CAAY,OAAKzC,KAAjB,CAAL,EAA8B;AAC5B,iBAAKF,UAAL,CAAgBL,SAAhB,GAA4B,EAA5B;AACA;AACD;;AAED,YAAI0H,oBAAkB,OAAK7G,EAAvB,MAAJ;;AAEAhE,wBAAMO,IAAN,CAAW,OAAKmD,KAAhB,EAAuB,UAAUzF,KAAV,EAAiB6M,IAAjB,EAAuB;AAC5CD,yBAAkB7K,gBAAMuH,eAAN,CAAsBuD,IAAtB,CAAlB,SAAiD7M,KAAjD;AACD,SAFD;;AAIA4M,uBAAe,GAAf;;AAEA,YAAI,OAAKrH,UAAL,CAAgBtE,UAAhB,KAA+B,IAAnC,EAAyC;AACvCsC,2BAAOJ,IAAP,CAAYrC,WAAZ,CAAwB,OAAKyE,UAA7B;AACD;;AAED,eAAKA,UAAL,CAAgBL,SAAhB,GAA4B0H,WAA5B;AACD,OAnBA,CAAD;AAoBD;;;oCAEgB7C,I,EAAMxH,G,EAAK;AAAA;;AACzBR,sBAAMsH,QAAN,CAAe,YAAM;AACpBtH,wBAAMO,IAAN,CAAWyH,IAAX,EAAiB,UAACpI,GAAD,EAAMqJ,CAAN,EAAY;AAC3B,cAAI,OAAKlF,MAAL,CAAYkF,CAAZ,MAAmB5F,SAAvB,EAAkC;AAChC,gBAAI0H,cAAc,OAAKxH,KAAL,CAAWyH,OAAX,CAAmB7B,QAAnB,CAA4B,CAA5B,EAA+BC,SAA/B,CAAyC,IAAzC,CAAlB;AACA,mBAAKrF,MAAL,CAAYkF,CAAZ,IAAiB,OAAKlD,MAAL,CAAYb,MAAZ,CAAmB6F,WAAnB,CAAjB;AACD;;AAED,cAAI,OAAKhH,MAAL,CAAYkF,CAAZ,EAAexJ,IAAf,IAAuB,OAAKsE,MAAL,CAAYkF,CAAZ,EAAexJ,IAAf,KAAwBe,GAAnD,EAAwD;AACtD,mBAAKuD,MAAL,CAAYkF,CAAZ,EAAezI,GAAf,IAAsBZ,GAAtB;;AAEA,mBAAKmE,MAAL,CAAYkF,CAAZ,EAAe7E,SAAf,CAAyB3G,OAAzB,CAAiC,UAAC4L,QAAD,EAAc;AAC7CA,uBAAS1I,MAAT;AACD,aAFD;AAGD;;AAED,iBAAKoD,MAAL,CAAYkF,CAAZ,EAAe7D,IAAf,CAAoB,MAApB,EAA4B5E,GAA5B,EAAiC,UAACyK,KAAD,EAAW;AAC1CA,kBAAMzK,GAAN,IAAaZ,GAAb;;AAEAqL,kBAAM7G,SAAN,CAAgB3G,OAAhB,CAAwB,UAAC4L,QAAD,EAAc;AACpCA,uBAAS1I,MAAT;AACD,aAFD;AAGD,WAND;AAOD,SArBD;AAsBD,OAvBA,CAAD;AAwBD;;;0BAEKhB,Q,EAAU;AACd/B,aAAOsI,MAAP,CAAc,KAAKvG,QAAnB,EAA6BA,QAA7B;AACD;;;;;;kBA/pBkB2D,K;;;;;;;;;;;;;ACRrB;;;;;;;;aAGC,gBAAa4H,MAAb,EAAqBvL,QAArB,EAA+B;AAAA;;AAC9B,KAAMwL,UAAU,IAAhB;AACAA,SAAQxL,QAAR,GAAmBA,YAAY,EAA/B;;AAEA,KAAMyL,UAAU;AACf3K,KADe,eACX4K,MADW,EACHC,QADG,EACOC,QADP,EACiB;AAC/B,OAAI;AACH,WAAO,IAAI5B,KAAJ,CAAU0B,OAAOC,QAAP,CAAV,EAA4BF,OAA5B,CAAP;AACA,IAFD,CAEE,OAAOI,GAAP,EAAY;AACb,WAAOC,QAAQhL,GAAR,CAAY4K,MAAZ,EAAoBC,QAApB,EAA8BC,QAA9B,CAAP;AACA;AACD,GAPc;AAQf1N,gBARe,0BAQAwN,MARA,EAQQC,QARR,EAQkBI,UARlB,EAQ8B;AAC5CP,WAAQxL,QAAR,CAAiBlC,OAAjB,CAAyB,mBAAW;AACnCsC,YAAQxB,IAAR,CAAa,IAAb,EAAmB8M,MAAnB,EAA2BC,QAA3B,EAAqCI,UAArC;AACA,IAFD;AAGA,UAAOD,QAAQ5N,cAAR,CAAuBwN,MAAvB,EAA+BC,QAA/B,EAAyCI,UAAzC,CAAP;AACA,GAbc;AAcfC,gBAde,0BAcAN,MAdA,EAcQC,QAdR,EAckB;AAChCH,WAAQxL,QAAR,CAAiBlC,OAAjB,CAAyB,mBAAW;AACnCsC,YAAQxB,IAAR,CAAa,IAAb,EAAmB8M,MAAnB,EAA2BC,QAA3B,EAAqCI,UAArC;AACA,IAFD;AAGA,UAAOD,QAAQE,cAAR,CAAuBN,MAAvB,EAA+BC,QAA/B,CAAP;AACA;AAnBc,EAAhB;;AAsBA,QAAO,IAAI3B,KAAJ,CAAUuB,MAAV,EAAkBE,OAAlB,CAAP;AACA,C;;;;;;;;;;;;;;;;;;;;;;;AC9BF;;;;;;;;;AAGE,kBAAa7H,KAAb,EAAoBuB,KAApB,EAA2B;AAAA;;AAAA;;AACzB,QAAM4E,MAAM,IAAZ;AACA,SAAKnG,KAAL,GAAaA,KAAb;AACA,SAAKqI,eAAL,GAAuBrI,MAAMsI,WAA7B;AACA,SAAK/G,KAAL,GAAaA,KAAb;AACA,SAAKrF,IAAL,GAAY,EAAZ;;AAEA,SAAKmH,OAAL,CAAa,UAACG,QAAD,EAAc;AACzB,OAAC,SAASxG,IAAT,CAAcuE,KAAd,EAAqBkC,IAArB,EAA2BI,KAA3B,EAAkC;AACjC,YAAI5G,MAAMwG,KAAKI,KAAL,CAAV;AACA,YAAIA,QAAQJ,KAAKK,MAAL,GAAc,CAA1B,EAA6B;AAC3BvC,gBAAMtE,GAAN,IAAa,EAAb;AACA4G;AACA7G,eAAKuE,MAAMtE,GAAN,CAAL,EAAiBwG,IAAjB,EAAuBI,KAAvB;AACD,SAJD,MAIO;AACLxJ,iBAAOC,cAAP,CAAsBiH,KAAtB,EAA6BtE,GAA7B,EAAkC;AAChCC,iBAAK,eAAM;AACT,qBAAOiJ,IAAIjK,IAAX;AACD,aAH+B;AAIhCiB,iBAAK,aAACd,GAAD,EAAS;AACZ8J,kBAAIjK,IAAJ,GAAWG,GAAX,CACEI,gBAAMsH,QAAN,CAAe,YAAM;AACrBoC,oBAAI/I,MAAJ;AACD,eAFC,CAAD;AAGF,aAT+B;AAUhC7C,0BAAc;AAVkB,WAAlC;AAYD;AACF,OApBD,EAoBG,MAAKgH,KApBR,EAoBeiC,SAASE,KAAT,CAAe,GAAf,CApBf,EAoBoC,CApBpC;;AAsBA,aAAOjH,gBAAMwK,SAAN,CAAgBzD,QAAhB,EAA0BjC,KAA1B,CAAP;AACD,KAxBD;AAyBD;;;;4BAEQpF,E,EAAI;AACX,WAAK6D,KAAL,CAAWsI,WAAX,GAAyB,KAAKD,eAAL,CAAqBhF,OAArB,CAA6B5G,gBAAM6G,aAAnC,EAAkD,UAACC,KAAD,EAAQC,QAAR,EAAqB;AAC9F,eAAOrH,GAAGqH,QAAH,CAAP;AACD,OAFwB,CAAzB;AAGD;;;6BAES;AAAA;;AACR,WAAKH,OAAL,CAAa,UAACG,QAAD,EAAc;AACzB,eAAO/G,gBAAMwK,SAAN,CAAgBzD,QAAhB,EAA0B,OAAKjC,KAA/B,CAAP;AACD,OAFD;AAGD;;;;;;;;;;;;;;;;;;;AC/CH;;;;;;;;AAEA;;;;AACA;;;;;;kBAEe;AACbd,MAAI,CADS;AAEb8H,UAAQ,OAFK;AAGbjF,iBAAe,sBAHF;AAIbU,mBAAiB,yBAAUwE,KAAV,EAAiB;AAChC,WAAOA,MAAMnF,OAAN,CAAc,iBAAd,EAAiC,OAAjC,EAA0CnB,WAA1C,EAAP;AACD,GANY;AAObc,mBAAiB,yBAAUyF,QAAV,EAAoB;AACnC,WAAOA,SAASpF,OAAT,CAAiB,WAAjB,EAA8B,UAAUqF,CAAV,EAAa;AAChD,aAAOA,EAAE,CAAF,EAAKC,WAAL,EAAP;AACD,KAFM,CAAP;AAGD,GAXY;AAYblJ,mBAAiB,2BAAY;AAC3B,QAAImJ,YAAYzN,SAASoD,aAAT,CAAuB,OAAvB,CAAhB;;AAEAqK,cAAUC,IAAV,GAAiB,UAAjB;;AAEA,WAAOD,SAAP;AACD,GAlBY;AAmBbjI,OAAK,eAAY;AACf,WAAO,KAAK4H,MAAL,GAAc,KAAK9H,EAAL,EAArB;AACD,GArBY;AAsBbsD,YAAU,kBAAU+E,IAAV,EAAgB;AACxB,QAAIC,QAAQ,IAAZ;;AAEA,WAAO,SAASC,gBAAT,GAA4B;AACjC,UAAIpB,UAAU,IAAd;AACA,UAAIjB,OAAO1L,SAAX;;AAEA,UAAI8N,UAAU,IAAd,EAAoBlJ,OAAOoJ,oBAAP,CAA4BF,KAA5B;;AAEpBA,cAAQlJ,OAAOqJ,qBAAP,CAA6B,YAAM;AACzCJ,aAAKtD,KAAL,CAAWoC,OAAX,EAAoBjB,IAApB;AACD,OAFO,CAAR;AAGD,KATD;AAUD,GAnCY;AAoCbjK,aAAW,mBAAUe,EAAV,EAAc;AACvB,QAAIyL,wBAAwBrJ,OAAOqJ,qBAAP,IAAgCrJ,OAAOsJ,wBAAvC,IAC1BtJ,OAAOuJ,2BADmB,IACYvJ,OAAOwJ,uBAD/C;AAEAH,0BAAsB,YAAM;AAC1BzL;AACD,KAFD;AAGD,GA1CY;AA2CbnC,UAAQ,gBAAUgO,CAAV,EAAa;AACnB,WAAO,QAAO/N,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,GAA2B+N,aAAa/N,IAAxC,GAA+C+N,KAAK,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAAlB,IAA8B,OAAOA,EAAEhI,QAAT,KAAsB,QAApD,IAAgE,OAAOgI,EAAErG,QAAT,KAAoB,QAA1I;AACD,GA7CY;AA8CbL,OA9Ca,iBA8CNzI,IA9CM,EA8CAgC,EA9CA,EA8CI;AACf,QAAIhC,SAAS,IAAb,EAAmB;AACjB,aAAO,KAAP;AACD;;AAED,QAAIA,SAAS2F,SAAb,EAAwB;AACtB,aAAO,KAAP;AACD;;AAED,mBAAe3F,IAAf,yCAAeA,IAAf;AACE,WAAK,OAAL;AACE,YAAIA,KAAK2J,MAAL,KAAgB,CAApB,EAAuB;AACrB,iBAAO,KAAP;AACD;AACD;AACF,WAAK,QAAL;AACE,YAAI,CAAC,KAAKxI,MAAL,CAAYnB,IAAZ,CAAL,EAAwB;AACtB,cAAIE,OAAOkP,IAAP,CAAYpP,IAAZ,EAAkB2J,MAAlB,KAA6B,CAAjC,EAAoC;AAClC,mBAAO,KAAP;AACD;AACF;AACD;AACF,WAAK,QAAL;AACE,YAAI3J,SAAS,EAAb,EAAiB;AACf,iBAAO,KAAP;AACD;AACD;AAjBJ;;AAoBA,QAAI,OAAOgC,EAAP,KAAc,UAAlB,EAA8B;AAC5B,aAAOA,GAAGqJ,KAAH,CAAS,IAAT,EAAe,CAACrL,IAAD,CAAf,CAAP;AACD;;AAED,WAAO,IAAP;AACD,GAhFY;AAiFb6C,MAjFa,gBAiFP2K,MAjFO,EAiFCxL,EAjFD,EAiFK;AAChB,QAAI2H,SAAS6D,OAAO7D,MAApB;AACA,QAAIuC,SAAS,EAAb;;AAEA,QAAIvC,SAAS,CAAb,EAAgB;AACd,WAAK,IAAIoC,IAAE,CAAX,EAAcA,IAAIpC,MAAlB,EAA0BoC,GAA1B,EAA+B;AAC7B,YAAIsD,MAAMrN,GAAGqJ,KAAH,CAAS,IAAT,EAAe,CAACmC,OAAOzB,CAAP,CAAD,EAAYA,CAAZ,EAAepC,MAAf,CAAf,CAAV;AACA,YAAI0F,GAAJ,EAAS;AACPnD,iBAAO1I,IAAP,CAAY6L,GAAZ;AACD;AACF;AACF,KAPD,MAOO;AACL,WAAK,IAAIvM,GAAT,IAAgB0K,MAAhB,EAAwB;AACtB,YAAI6B,OAAMrN,GAAGqJ,KAAH,CAAS,IAAT,EAAe,CAACmC,OAAO1K,GAAP,CAAD,EAAcA,GAAd,CAAf,CAAV;AACA,YAAIuM,IAAJ,EAAS;AACPnD,iBAAO1I,IAAP;AACD;AACF;AACF;AACD,WAAO0I,MAAP;AACD,GArGY;AAsGbhC,aAtGa,uBAsGAF,MAtGA,EAsGQhI,EAtGR,EAsGY;AACvB,QAAIgI,OAAO7C,QAAP,KAAoB,CAAxB,EAA2B;AACzB,UAAI6C,OAAOhB,SAAP,CAAiB6D,IAAjB,GAAwBlD,MAAxB,GAAiC,CAArC,EAAyC;AACvC,eAAO3H,GAAGgI,MAAH,CAAP;AACD;AACF;AACF,GA5GY;AA6Gb/B,iBA7Ga,2BA6GIpC,KA7GJ,EA6GW7D,EA7GX,EA6Ge;AAC1B,QAAI6D,MAAMqB,OAAN,KAAkB,UAAtB,EAAkC;AAChC,UAAI,OAAOlF,EAAP,KAAc,UAAlB,EAA8B;AAC5B,eAAOA,GAAGqJ,KAAH,CAAS,IAAT,EAAe,CAACxF,MAAMyH,OAAP,CAAf,CAAP;AACD;AACD,aAAOzH,MAAMyH,OAAb;AACD;AACD,GApHW;AAqHbR,WArHa,qBAqHFF,GArHE,EAqHGY,MArHH,EAqHW;AACtB,WAAOZ,IAAIrD,KAAJ,CAAU,GAAV,EAAe+F,MAAf,CAAsB,UAAC9B,MAAD,EAAQzB,CAAR,EAAc;AACzC,UAAIyB,MAAJ,EAAY;AACV,YAAIA,OAAOzB,CAAP,CAAJ,EAAe;AACb,iBAAOyB,OAAOzB,CAAP,CAAP;AACD,SAFD,MAEO;AACL,iBAAO,IAAP;AACD;AACF;AACF,KARM,EAQJyB,MARI,CAAP;AASD,GA/HY;AAgIbvI,MAhIa,gBAgIPsK,IAhIO,EAgIDxL,MAhIC,EAgIO;AAClBA,aAASA,UAAUD,iBAAOC,MAA1B;;AAEA,SAAK,IAAIgD,KAAT,IAAkBhD,MAAlB,EAA0B;AACxB,UAAI4E,YAAY,EAAhB;AACA,UAAI6G,iBAAiB,EAArB;;AAEA,cAAQzI,MAAM0I,MAAN,CAAa,CAAb,CAAR;AACE,aAAK,GAAL;AACE9G,sBAAY,OAAZ;AACA6G,2BAAiBzI,MAAM2I,SAAN,CAAgB,CAAhB,CAAjB;AACA;AACF,aAAK,GAAL;AACE/G,sBAAY,IAAZ;AACA6G,2BAAiBzI,MAAM2I,SAAN,CAAgB,CAAhB,CAAjB;AACA;AACF;AACE/G,sBAAY,SAAZ;AACA6G,2BAAiBzI,KAAjB;AAXJ;;AAcA,UAAI4B,aAAa4G,IAAjB,EAAuB;AACrB,YAAIA,KAAK5G,SAAL,EAAgBY,KAAhB,CAAsB,GAAtB,EAA2BN,OAA3B,CAAmCuG,cAAnC,IAAqD,CAAC,CAA1D,EAA6D;AAC3D,cAAIhG,MAAMzF,OAAOgD,KAAP,CAAV;AACAwI,eAAKI,SAAL,CAAenG,GAAf;AACD;AACF;AACF;;AAED,QAAI+F,KAAKtJ,UAAT,EAAqB;AACnB,WAAKhB,IAAL,CAAUsK,KAAKtJ,UAAf,EAA2BlC,MAA3B;AACD;;AAED,QAAIwL,KAAKpJ,IAAT,EAAe;AACb,WAAKlB,IAAL,CAAUsK,KAAKpJ,IAAf,EAAqBpC,MAArB;AACD;;AAEDwL,SAAKxI,KAAL,GAAa,OAAb;AACD,GAtKY;AAuKb7C,UAvKa,oBAuKHF,EAvKG,EAuKC;AACZ,QAAIA,OAAO2B,SAAX,EAAsB;AACpB,aAAO3E,SAAS4O,IAAT,IAAiB5O,SAAS6O,aAAT,CAAuB,MAAvB,CAAxB;AACD;;AAED,mBAAe7L,EAAf,yCAAeA,EAAf;AACE,WAAK,QAAL;AACE,eAAOhD,SAAS6O,aAAT,CAAuB7L,EAAvB,CAAP;AACF,WAAK,QAAL;AACE,eAAOA,EAAP;AAJJ;AAMD,GAlLY;AAmLbG,UAnLa,oBAmLH0B,KAnLG,EAmLI;AACf,QAAIA,MAAMqB,OAAN,KAAkB,MAAtB,EAA8B;AAC5B,aAAOrB,MAAMgK,aAAN,CAAoB,MAApB,CAAP;AACD,KAFD,MAEO;AACL,aAAO,KAAK1L,QAAL,CAAc0B,MAAMrE,UAApB,CAAP;AACD;AACF;AAzLY,C;;;;;;;;;;;;;;;;;;;;;ACLf;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBwD,K;AACnB,iBAAYa,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,QAAIiK,YAAY,IAAhB;AACA,SAAK/L,MAAL,GAAc,EAAd;;AAEA7D,WAAOC,cAAP,CAAsB,IAAtB,EAA4B,OAA5B,EAAqC;AACnC4C,WAAK,eAAM;AACT,eAAO+M,SAAP;AACD,OAHkC;AAInC9M,WAAK,aAAC+M,YAAD,EAAkB;AACrB,YAAIC,WAAW,MAAKC,QAAL,CAAcH,SAAd,CAAf;AACA,YAAII,WAAW,MAAKD,QAAL,CAAcF,YAAd,CAAf;AACAD,oBAAYC,YAAZ;;AAEA,YAAI,WAAWC,QAAf,EAAyB;AACvBA,mBAASG,KAAT,CAAe9E,KAAf,CAAqB,KAArB;AACD;;AAED,YAAI,WAAW6E,QAAf,EAAyB;AACvBA,mBAASE,KAAT,CAAe/E,KAAf,CAAqB,KAArB;AACD;;AAED,YAAI,WAAW6E,QAAf,EAAyB;AACvBtN,0BAAMC,IAAN,CAAWqN,SAASG,KAApB,EAA2B,UAACjD,IAAD,EAAOtK,GAAP,EAAe;AACxC,kBAAKA,GAAL,IAAYsK,IAAZ;AACD,WAFD;AAGD;;AAED,YAAI,QAAQ8C,QAAZ,EAAsB;AACpBtN,0BAAMC,IAAN,CAAWqN,SAAS5I,EAApB,EAAwB,UAAC+H,GAAD,EAAMnE,KAAN,EAAgB;AACtC,gBAAI5H,KAAK,OAAO+L,GAAP,KAAe,UAAf,GAA4BA,GAA5B,GAAkC,YAAM;AAAE,qBAAO,MAAKtI,KAAL,GAAasI,GAApB;AAAyB,aAA5E;AACA,gBAAInE,MAAMuE,MAAN,CAAa,CAAb,MAAoB,GAAxB,EAA6B;AAC3B,oBAAKa,GAAL,CAASpF,KAAT;AACD;AACF,WALD;AAMD;;AAED,YAAI,WAAWgF,QAAf,EAAyB;AACvBA,mBAASK,KAAT,CAAelF,KAAf,CAAqB,KAArB;AACD;AACF;AAnCkC,KAArC;;AAsCA,SAAKzD,MAAL,CAAY,IAAI4I,cAAJ,CAAS3K,KAAT,CAAZ;;AAEAjD,oBAAM6F,KAAN,CAAY5C,MAAMiE,UAAlB,EAA8B,UAACC,SAAD;AAAA,aAAenH,gBAAMC,IAAN,CAAWkH,SAAX,EAAsB,UAACC,MAAD,EAAY;AAC7E,YAAIA,OAAO7C,QAAP,KAAoB,CAAxB,EAA2B;AACzB,cAAI8C,QAAQ,IAAIjF,KAAJ,CAAUgF,MAAV,CAAZ;AACAC,gBAAM5B,MAAN,GAAe,KAAf;;AAEA,cAAI,MAAKnC,SAAT,EAAoB;AAClB,kBAAKA,SAAL,CAAeC,IAAf,GAAsB8D,KAAtB;AACAA,kBAAM7D,IAAN,GAAa,MAAKF,SAAlB;AACD,WAHD,MAGO;AACL,kBAAKD,UAAL,GAAkBgE,KAAlB;AACD;;AAED,gBAAK/D,SAAL,GAAiB+D,KAAjB;AACD;;AAED,YAAID,OAAO7C,QAAP,KAAoB,CAAxB,EAA2B;AACzB,cAAI6C,OAAOhB,SAAP,CAAiBI,KAAjB,CAAuBxG,gBAAMuG,aAA7B,CAAJ,EAAiD;AAC/C,kBAAKvB,MAAL,CAAY,IAAI6I,eAAJ,CAAUzG,MAAV,CAAZ;AACD;AACF;AACF,OApB4C,CAAf;AAAA,KAA9B;AAqBD;;;;8BAES0G,S,EAAW;AACnB,UAAI,UAAUA,SAAd,EAAyB;AACvB,aAAK9I,MAAL,CAAY8I,UAAU3O,IAAtB;AACA,eAAO2O,UAAU3O,IAAjB;AACD;;AAED,UAAI,aAAa2O,SAAjB,EAA4B;AAC1B,aAAK,IAAIC,SAAT,IAAsBD,UAAUpF,OAAhC,EAAyC;AACvC,eAAKqF,SAAL,IAAkBD,UAAUpF,OAAV,CAAkBqF,SAAlB,CAAlB;AACD;AACD,eAAOD,UAAUpF,OAAjB;AACD;;AAED,WAAKvH,MAAL,GAAc2M,SAAd;AACD;;;6BAES3J,K,EAAO;AACf,UAAIA,SAAS,KAAKhD,MAAlB,EAA0B;AACxB,eAAO,KAAKA,MAAL,CAAYgD,KAAZ,CAAP;AACD;AACD,aAAO,EAAP;AACD;;;wBAEGmE,K,EAAO;AAAA;;AACT,UAAI7D,SAAS6D,MAAMwE,SAAN,CAAgB,CAAhB,CAAb;AACA,UAAIvE,aAAa,KAAjB;;AAEA,WAAKtF,KAAL,CAAWlB,gBAAX,CAA4B0C,MAA5B,EAAoC,UAAC+D,CAAD,EAAO;AACzC,YAAIrE,QAAQ,OAAKkJ,QAAL,CAAc,OAAKlJ,KAAnB,CAAZ;;AAEA,YAAI,QAAQA,KAAZ,EAAmB;AACjB,cAAIhB,SAASgB,MAAMO,EAAnB;AACA,cAAI4D,SAASnF,MAAb,EAAqB;AACnB,gBAAIzC,KAAK,OAAOyC,OAAOmF,KAAP,CAAP,KAAyB,UAAzB,GAAsCnF,OAAOmF,KAAP,CAAtC,GAAsD,YAAY;AAAE,mBAAKnE,KAAL,GAAahB,OAAOmF,KAAP,CAAb;AAA4B,aAAzG;AACA5H,eAAGzC,IAAH,CAAQ,MAAR,EAAcuK,CAAd;AACD;AACF;AAEF,OAXD,EAWGD,UAXH;AAYD;;;2BAEOtF,K,EAAO9B,M,EAAQ;AAAA;;AACrB,UAAItB,OAAO,IAAIuC,KAAJ,CAAUa,KAAV,CAAX;AACApD,WAAK4F,MAAL,GAAc,IAAd;;AAEA,UAAI,CAAC,KAAKpC,UAAV,EAAsB;AACpB,aAAKA,UAAL,GAAkBxD,IAAlB;AACD;;AAED,UAAI,KAAKyD,SAAT,EAAoB;AAClBzD,aAAK2D,IAAL,GAAY,KAAKF,SAAjB;AACA,aAAKA,SAAL,CAAeC,IAAf,GAAsB1D,IAAtB;AACD;;AAED,WAAKyD,SAAL,GAAiBzD,IAAjB;;AAEAG,sBAAML,SAAN,CAAgB,YAAM;AACpB,eAAKsD,KAAL,CAAWxE,WAAX,CAAuBoB,KAAKoD,KAA5B;AACAjD,wBAAMqC,IAAN,CAAWxC,IAAX,EAAiBsB,MAAjB;AACD,OAHD;;AAKA,aAAOtB,IAAP;AACD;;;yBAEIyI,K,EAAOW,O,EAAS;AACnB,UAAI9E,QAAQ,KAAKkJ,QAAL,CAAc,KAAKlJ,KAAnB,CAAZ;AACA,UAAI+E,UAAU,IAAd;AACAD,gBAAUA,WAAW,IAArB;;AAEA,UAAI,QAAQ9E,KAAZ,EAAmB;AACjB,YAAIhB,SAASgB,MAAMO,EAAnB;;AAEA,YAAI4D,SAASnF,MAAb,EAAqB;AACnBmF,kBAAQA,MAAM3B,KAAN,CAAY,GAAZ,CAAR;AACA,cAAIqH,aAAY1F,MAAM,CAAN,CAAhB;AACA,cAAI5H,KAAKyC,OAAO6K,UAAP,CAAT;;AAEA9E,oBAAUZ,MAAM,CAAN,MAAa,MAAvB;;AAEA5H,eAAK,OAAOA,EAAP,KAAc,UAAd,GAA2BA,EAA3B,GAAgC,YAAY;AAAE,iBAAKyD,KAAL,GAAahB,OAAO6K,UAAP,CAAb;AAAgC,WAAnF;AACAtN,aAAG+H,KAAH,CAAS,IAAT;AACD;AACF;;AAED,UAAIS,WAAW,KAAKzD,MAApB,EAA4B;AAC1B,aAAKA,MAAL,CAAYd,IAAZ,CAAiBqJ,SAAjB,EAA4B/E,OAA5B;AACD;AACF;;;2BAEO9J,I,EAAM;AAAA;;AACZa,sBAAM6F,KAAN,CAAY1G,IAAZ,EAAkB,UAACA,IAAD;AAAA,eAAUa,gBAAMC,IAAN,CAAWd,IAAX,EAAiB,UAACxB,KAAD,EAAQuC,GAAR,EAAgB;AAC3D,cAAIA,OAAO,MAAX,EAAiB;AACf,mBAAKA,GAAL,IAAYvC,KAAZ;AACD,WAFD,MAEO;AACLL,mBAAOC,cAAP,CAAsB,MAAtB,EAA4B2C,GAA5B,EAAiC,IAAIN,oBAAJ,CAAejC,KAAf,EAAsB,MAAtB,CAAjC;AACD;AACF,SAN2B,CAAV;AAAA,OAAlB;AAOD;;;yBAEKqI,Q,EAAUrI,K,EAAOyB,E,EAAI;AACzB,UAAIkK,SAAS,EAAb;;AAEAtD,iBAAWtG,MAAMuG,eAAN,CAAsBD,QAAtB,CAAX;;AAEA,OAAC,SAASuD,GAAT,CAAapH,KAAb,EAAoB;AACnB,YAAIA,KAAJ,EAAW;AACT,cAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiC,OAAOpF,KAAP,KAAiB,UAAtD,EAAkE;AAChEA,kBAAMwE,KAAN;AACAmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AAED,WAJD,MAIO,IAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiCZ,MAAM6D,QAAN,EAAgBW,KAAhB,CAAsB,GAAtB,EAA2B6C,QAA3B,CAAoC7L,KAApC,CAArC,EAAiF;AACtF,gBAAI,OAAOyB,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,iBAAG+C,KAAH;AACD;;AAEDmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AACD;;AAED,cAAIA,MAAMkB,UAAV,EAAsB;AACpBkG,gBAAIpH,MAAMkB,UAAV;AACD;;AAED,cAAIlB,MAAMoB,IAAV,EAAgB;AACdgG,gBAAIpH,MAAMoB,IAAV;AACD;AACF;AAEF,OAvBD,EAuBG,KAAKF,UAvBR;;AAyBA,aAAOiG,MAAP;AACD;;;+BAEWtD,Q,EAAUrI,K,EAAOyB,E,EAAI;AAC/B,UAAIkK,SAAS,EAAb;AACAtD,iBAAWtG,MAAMuG,eAAN,CAAsBD,QAAtB,CAAX;;AAEA,OAAC,SAASuD,GAAT,CAAapH,KAAb,EAAoB;AACnB,YAAIA,KAAJ,EAAW;AACT,cAAIA,MAAM6D,QAAN,MAAoBjD,SAApB,IAAiCZ,MAAM6D,QAAN,EAAgBW,KAAhB,CAAsB,GAAtB,EAA2B6C,QAA3B,CAAoC7L,KAApC,CAArC,EAAiF;AAC/E,gBAAI,OAAOyB,EAAP,KAAc,UAAlB,EAA8B;AAC5BA,iBAAG+C,KAAH;AACD;;AAEDmH,mBAAO1I,IAAP,CAAYuB,KAAZ;AACD;;AAED,cAAIA,MAAMsD,MAAV,EAAkB;AAChB8D,gBAAIpH,MAAMsD,MAAV;AACD;AACF;AAEF,OAfD,EAeG,KAAKpC,UAfR;;AAiBA,aAAOiG,MAAP;AACD;;;4BAEQI,O,EAAS;AAAA;;AAChB,UAAI,CAACA,QAAQ3C,MAAT,GAAkB,CAAtB,EAAyB;AACvB,eAAO,IAAP;AACD;;AAEDrH,YAAMmG,KAAN,CAAY6D,OAAZ,EAAqB;AAAA,eAAMhK,MAAMO,IAAN,CAAWyJ,OAAX,EAAoB,UAACC,MAAD,EAAY;AACzD,iBAAK3E,MAAL,CAAY,IAAI2E,MAAJ,CAAW,MAAX,CAAZ;AACD,SAF0B,CAAN;AAAA,OAArB;AAGD;;;4BAEQ1G,K,EAAO9B,M,EAAQ;AAAA;;AACtB,UAAItB,OAAO,IAAImD,KAAJ,CAAUC,KAAV,CAAX;AACApD,WAAK4F,MAAL,GAAc,KAAKjB,KAAnB;;AAEA,UAAI,KAAKnB,UAAT,EAAqB;AACnBxD,aAAK0D,IAAL,GAAY,KAAKF,UAAjB;AACA,aAAKA,UAAL,CAAgBG,IAAhB,GAAuB3D,IAAvB;AACD;;AAED,WAAKwD,UAAL,GAAkBxD,IAAlB;;AAECH,YAAMsH,QAAN,CAAe,YAAM;AACpB,eAAK/D,KAAL,CAAW4B,OAAX,CAAmBhF,KAAKoD,KAAxB;AACAvD,cAAM2C,IAAN,CAAWxC,IAAX,EAAiBsB,MAAjB;AACD,OAHA,CAAD;;AAKA,aAAOtB,IAAP;AACD;;;;;;kBA3PkBuC,K;;;;;;;;;;;;;;;;;;;ACPrB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;IAEqBwL,I,GACnB,cAAY3K,KAAZ,EAAmB;AAAA;;AACjB,MAAMwK,QAAQ,EAAd;AACA,MAAM/J,KAAKT,MAAMU,YAAN,CAAmB,IAAnB,KAA4B3D,gBAAM4D,GAAN,EAAvC;;AAEA,MAAIX,MAAMS,EAAN,KAAaA,EAAjB,EAAqB;AACnBT,UAAMS,EAAN,GAAWA,EAAX;AACD;;AAED+J,QAAM/J,EAAN,GAAW;AACT/F,WAAO+F,EADE;AAETjE,aAAS,mBAAY;AACnB,YAAM,yBAAyB,IAA/B;AACD;AAJQ,GAAX;;AAOAgO,QAAMxK,KAAN,GAAc;AACZtF,WAAOsF,KADK;AAEZxD,aAAS,mBAAY;AACnB,YAAM,gCAAgC,IAAtC;AACD;AAJW,GAAd;;AAOAgO,QAAMnJ,OAAN,GAAgB;AACd3G,WAAOsF,MAAMqB,OAAN,CAAca,WAAd,EADO;AAEd1F,aAAS,mBAAY;AACnB,YAAM,gCAAgC,IAAtC;AACD;AAJa,GAAhB;;AAOAgO,QAAM5J,IAAN,GAAa;AACXlG,WAAOsF,MAAMG,KAAN,CAAYoC,OAAZ,KAAwB,OADpB;AAEX/F,aAAS,iBAAUoE,IAAV,EAAgB;AACvB,UAAIA,IAAJ,EAAU;AACR,YAAIZ,MAAMG,KAAN,CAAYkC,cAAhB,EAAgC;AAC9BrC,gBAAMG,KAAN,CAAYkC,cAAZ,CAA2B,SAA3B;AACD,SAFD,MAEO;AACLrC,gBAAMG,KAAN,CAAYmC,eAAZ,CAA4B,SAA5B;AACD;AACF,OAND,MAMO;AACLtC,cAAMG,KAAN,CAAYoC,OAAZ,GAAsB,MAAtB;AACD;AACF;AAZU,GAAb;;AAeAiI,QAAMQ,KAAN,GAAc;AACZtQ,WAAOsF,MAAMU,YAAN,CAAmB,OAAnB,CADK;AAEZlE,aAAS,iBAAUF,MAAV,EAAkB;AACzBS,sBAAML,SAAN,CAAgB;AAAA,eAAMsD,MAAMiC,YAAN,CAAmB,OAAnB,EAA4B3F,MAA5B,CAAN;AAAA,OAAhB;AACD;AAJW,GAAd;;AAOAkO,QAAMhI,MAAN,GAAe,IAAf;AACAgI,QAAMpK,UAAN,GAAmB,IAAnB;AACAoK,QAAMnK,SAAN,GAAkB,IAAlB;AACAmK,QAAMlK,IAAN,GAAa,IAAb;AACAkK,QAAMjK,IAAN,GAAa,IAAb;;AAEAxD,kBAAM6F,KAAN,CAAY5C,MAAM6C,UAAlB,EAA8B,UAACA,UAAD;AAAA,WAAgB9F,gBAAMC,IAAN,CAAW6F,UAAX,EAAuB,UAACC,SAAD,EAAe;AAClF,UAAIC,WAAWhG,gBAAMiG,eAAN,CAAsBF,UAAUG,QAAhC,CAAf;AACA,UAAIC,aAAaJ,UAAUK,SAA3B;;AAEA,UAAI,CAACJ,QAAD,IAAayH,KAAb,IAAsBzH,aAAa,KAAvC,EAA8C;AAC5CyH,cAAMzH,QAAN,IAAkB;AAChBrI,iBAAOwI,UADS;AAEhB1G,mBAAS,iBAAUF,MAAV,EAAkB;AACzBS,4BAAML,SAAN,CAAgB;AAAA,qBAAMsD,MAAMiC,YAAN,CAAmBlF,gBAAMiH,eAAN,CAAsBjB,QAAtB,CAAnB,EAAoDkI,SAApD,CAAN;AAAA,aAAhB;AACD;AAJe,SAAlB;AAMD;AACF,KAZ6C,CAAhB;AAAA,GAA9B;;AAcAT,QAAMrK,KAAN,GAAc,IAAI+K,gBAAJ,CAAWzK,EAAX,CAAd;;AAEA,SAAO+J,KAAP;AACD,C;;kBA3EkBG,I;;;;;;;;;;;;;;;;;;;ACPrB;;;;AACA;;;;AACA;;;;;;;;aAGE,gBAAalK,EAAb,EAAiB;AAAA;;AACf,MAAMR,aAAalD,gBAAM0C,eAAN,EAAnB;AACA,MAAMiD,eAAe3F,gBAAMgH,QAAN,CAAe,UAAUoH,MAAV,EAAkB;AACpDC,oBAAgBD,MAAhB;AACD,GAFoB,CAArB;;AAIA,SAAO;AACLzQ,WAAO,eAAU2M,MAAV,EAAkB;AACvB,UAAI,CAACA,MAAL,EAAa;AACX3E,qBAAa,KAAKhI,KAAlB;AACA,eAAO,KAAKA,KAAL,IAAc,EAArB;AACD;;AAED,aAAO2M,MAAP;AACD,KARI;AASL7K,aAAS,iBAAUiI,IAAV,EAAgB;AACvB1H,sBAAML,SAAN,CAAgB;AAAA,eAAM0O,gBAAgB3G,IAAhB,CAAN;AAAA,OAAhB;AACD;AAXI,GAAP;;AAcA,WAAS2G,eAAT,CAA0BD,MAA1B,EAAkC;AAChC,QAAI,CAACpO,gBAAM6F,KAAN,CAAYuI,MAAZ,CAAL,EAA0B;AACxBlL,iBAAWL,SAAX,GAAuB,EAAvB;AACA;AACD;;AAED,QAAI0H,oBAAkB7G,EAAlB,MAAJ;;AAEA1D,oBAAMC,IAAN,CAAWmO,MAAX,EAAmB,UAAUzQ,KAAV,EAAiB6M,IAAjB,EAAuB;AACxCD,qBAAkBvK,gBAAMiH,eAAN,CAAsBuD,IAAtB,CAAlB,SAAiD7M,KAAjD;AACD,KAFD;;AAIA4M,mBAAe,GAAf;;AAEA,QAAIrH,WAAWtE,UAAX,KAA0B,IAA9B,EAAoC;AAClC0P,uBAAOxN,IAAP,CAAYrC,WAAZ,CAAwByE,UAAxB;AACD;;AAEDA,eAAWL,SAAX,GAAuB0H,WAAvB;AACD;AACF,C;;;;;;;;;;;;;;;;;;;;;AC7CH;;;;AACA;;;;;;;;aAGE,gBAAYtH,KAAZ,EAAmB;AAAA;;AACjB,MAAMsL,mBAAmBtL,MAAMsI,WAA/B;AACA,MAAMkC,QAAQ,EAAd;AACA,MAAM/G,OAAO6H,iBAAiB/H,KAAjB,CAAuBxG,gBAAMuG,aAA7B,EAA4C9F,GAA5C,CAAgD,UAAC+F,KAAD,EAAW;AACpE,WAAOA,MAAMA,KAAN,CAAY,SAAZ,EAAuB,CAAvB,CAAP;AACD,GAFU,EAERgI,MAFQ,CAED,UAAC7Q,KAAD,EAAQmJ,KAAR,EAAe2H,IAAf,EAAwB;AAChC,WAAOA,KAAKpI,OAAL,CAAa1I,KAAb,MAAwBmJ,KAA/B;AACD,GAJU,CAAb;;AAMA,MAAM4H,WAAWzL,MAAMsI,WAAN,CAAkB5E,KAAlB,CAAwB3G,gBAAMuG,aAA9B,CAAjB;;AAEA,MAAIoI,YAAY1L,KAAhB;;AAEAjD,kBAAMC,IAAN,CAAWyO,QAAX,EAAqB,UAAChE,OAAD,EAAa;AAChCzH,UAAMsI,WAAN,GAAoB,EAApB;AACA,QAAIzE,QAAQJ,KAAKL,OAAL,CAAaqE,OAAb,CAAZ;AACA,QAAIkE,WAAWxQ,SAASM,cAAT,CAAwB,EAAxB,CAAf;;AAEA,QAAIoI,QAAQ,CAAC,CAAb,EAAgB;AACd,UAAIkD,MAAMtD,KAAKI,KAAL,CAAV;;AAEA,OAAC,SAAS7G,IAAT,CAAc2K,MAAd,EAAsBlE,IAAtB,EAA4BI,KAA5B,EAAmC;AAClC,YAAI5G,MAAMwG,KAAKI,KAAL,CAAV;AACAA;AACA8D,eAAO1K,GAAP,IAAc0K,OAAO1K,GAAP,KAAe,EAA7B;;AAEA,YAAI4G,QAAQJ,KAAKK,MAAjB,EAAyB;AACvB9G,eAAK2K,OAAO1K,GAAP,CAAL,EAAkBwG,IAAlB,EAAwBI,KAAxB;AACA,iBAAO8D,MAAP;AACD,SAHD,MAGO;AACL,cAAI,CAACA,OAAO1K,GAAP,EAAYT,OAAjB,EAA0B;AACxBmL,mBAAO1K,GAAP,EAAYT,OAAZ,GAAsB,EAAtB;AACD;AACDmL,iBAAO1K,GAAP,EAAYT,OAAZ,CAAoBmB,IAApB,CAAyB,UAAUrB,MAAV,EAAkB;AACzCqP,qBAASrD,WAAT,GAAuBhM,MAAvB;AACD,WAFD;AAGD;AACF,OAhBD,EAgBGkO,KAhBH,EAgBUzD,IAAIrD,KAAJ,CAAU,GAAV,CAhBV,EAgB0B,CAhB1B;AAiBD,KApBD,MAoBO;AACLiI,eAASrD,WAAT,GAAuBb,OAAvB;AACD;;AAEDiE,cAAU/Q,KAAV,CAAgBgR,QAAhB;AACAD,gBAAYC,QAAZ;AACD,GA/BD;;AAiCA,SAAOnB,KAAP;;AAEA,WAASnH,OAAT,CAAiBrD,KAAjB,EAAwBsL,gBAAxB,EAA0C3D,MAA1C,EAAkDxL,EAAlD,EAAsD;AACpD6D,UAAMsI,WAAN,GAAoBgD,iBAAiBjI,OAAjB,CAAyBtG,gBAAMuG,aAA/B,EAA8C,UAACC,KAAD,EAAQC,QAAR,EAAqB;AACrF,aAAOrH,GAAGqH,QAAH,EAAamE,MAAb,CAAP;AACD,KAFmB,CAApB;AAGD;AACF,C","file":"main.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * @this {Promise}\n */\nfunction finallyConstructor(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n}\n\nexport default finallyConstructor;\n","import promiseFinally from './finally';\n\n// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\n/**\n * @constructor\n * @param {Function} fn\n */\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  /** @type {!number} */\n  this._state = 0;\n  /** @type {!boolean} */\n  this._handled = false;\n  /** @type {Promise|undefined} */\n  this._value = undefined;\n  /** @type {!Array<!Function>} */\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\n/**\n * @constructor\n */\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  // @ts-ignore\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = promiseFinally;\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\r\n/* eslint-disable require-jsdoc, valid-jsdoc */\r\nvar MapShim = (function () {\r\n    if (typeof Map !== 'undefined') {\r\n        return Map;\r\n    }\r\n    /**\r\n     * Returns index in provided array that matches the specified key.\r\n     *\r\n     * @param {Array<Array>} arr\r\n     * @param {*} key\r\n     * @returns {number}\r\n     */\r\n    function getIndex(arr, key) {\r\n        var result = -1;\r\n        arr.some(function (entry, index) {\r\n            if (entry[0] === key) {\r\n                result = index;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        return result;\r\n    }\r\n    return /** @class */ (function () {\r\n        function class_1() {\r\n            this.__entries__ = [];\r\n        }\r\n        Object.defineProperty(class_1.prototype, \"size\", {\r\n            /**\r\n             * @returns {boolean}\r\n             */\r\n            get: function () {\r\n                return this.__entries__.length;\r\n            },\r\n            enumerable: true,\r\n            configurable: true\r\n        });\r\n        /**\r\n         * @param {*} key\r\n         * @returns {*}\r\n         */\r\n        class_1.prototype.get = function (key) {\r\n            var index = getIndex(this.__entries__, key);\r\n            var entry = this.__entries__[index];\r\n            return entry && entry[1];\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @param {*} value\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.set = function (key, value) {\r\n            var index = getIndex(this.__entries__, key);\r\n            if (~index) {\r\n                this.__entries__[index][1] = value;\r\n            }\r\n            else {\r\n                this.__entries__.push([key, value]);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.delete = function (key) {\r\n            var entries = this.__entries__;\r\n            var index = getIndex(entries, key);\r\n            if (~index) {\r\n                entries.splice(index, 1);\r\n            }\r\n        };\r\n        /**\r\n         * @param {*} key\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.has = function (key) {\r\n            return !!~getIndex(this.__entries__, key);\r\n        };\r\n        /**\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.clear = function () {\r\n            this.__entries__.splice(0);\r\n        };\r\n        /**\r\n         * @param {Function} callback\r\n         * @param {*} [ctx=null]\r\n         * @returns {void}\r\n         */\r\n        class_1.prototype.forEach = function (callback, ctx) {\r\n            if (ctx === void 0) { ctx = null; }\r\n            for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\r\n                var entry = _a[_i];\r\n                callback.call(ctx, entry[1], entry[0]);\r\n            }\r\n        };\r\n        return class_1;\r\n    }());\r\n})();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\r\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\r\nvar global$1 = (function () {\r\n    if (typeof global !== 'undefined' && global.Math === Math) {\r\n        return global;\r\n    }\r\n    if (typeof self !== 'undefined' && self.Math === Math) {\r\n        return self;\r\n    }\r\n    if (typeof window !== 'undefined' && window.Math === Math) {\r\n        return window;\r\n    }\r\n    // eslint-disable-next-line no-new-func\r\n    return Function('return this')();\r\n})();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\r\nvar requestAnimationFrame$1 = (function () {\r\n    if (typeof requestAnimationFrame === 'function') {\r\n        // It's required to use a bounded function because IE sometimes throws\r\n        // an \"Invalid calling object\" error if rAF is invoked without the global\r\n        // object on the left hand side.\r\n        return requestAnimationFrame.bind(global$1);\r\n    }\r\n    return function (callback) { return setTimeout(function () { return callback(Date.now()); }, 1000 / 60); };\r\n})();\n\n// Defines minimum timeout before adding a trailing call.\r\nvar trailingTimeout = 2;\r\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\r\nfunction throttle (callback, delay) {\r\n    var leadingCall = false, trailingCall = false, lastCallTime = 0;\r\n    /**\r\n     * Invokes the original callback function and schedules new invocation if\r\n     * the \"proxy\" was called during current request.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function resolvePending() {\r\n        if (leadingCall) {\r\n            leadingCall = false;\r\n            callback();\r\n        }\r\n        if (trailingCall) {\r\n            proxy();\r\n        }\r\n    }\r\n    /**\r\n     * Callback invoked after the specified delay. It will further postpone\r\n     * invocation of the original function delegating it to the\r\n     * requestAnimationFrame.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function timeoutCallback() {\r\n        requestAnimationFrame$1(resolvePending);\r\n    }\r\n    /**\r\n     * Schedules invocation of the original function.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    function proxy() {\r\n        var timeStamp = Date.now();\r\n        if (leadingCall) {\r\n            // Reject immediately following calls.\r\n            if (timeStamp - lastCallTime < trailingTimeout) {\r\n                return;\r\n            }\r\n            // Schedule new call to be in invoked when the pending one is resolved.\r\n            // This is important for \"transitions\" which never actually start\r\n            // immediately so there is a chance that we might miss one if change\r\n            // happens amids the pending invocation.\r\n            trailingCall = true;\r\n        }\r\n        else {\r\n            leadingCall = true;\r\n            trailingCall = false;\r\n            setTimeout(timeoutCallback, delay);\r\n        }\r\n        lastCallTime = timeStamp;\r\n    }\r\n    return proxy;\r\n}\n\n// Minimum delay before invoking the update of observers.\r\nvar REFRESH_DELAY = 20;\r\n// A list of substrings of CSS properties used to find transition events that\r\n// might affect dimensions of observed elements.\r\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\r\n// Check if MutationObserver is available.\r\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\r\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\r\nvar ResizeObserverController = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserverController.\r\n     *\r\n     * @private\r\n     */\r\n    function ResizeObserverController() {\r\n        /**\r\n         * Indicates whether DOM listeners have been added.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.connected_ = false;\r\n        /**\r\n         * Tells that controller has subscribed for Mutation Events.\r\n         *\r\n         * @private {boolean}\r\n         */\r\n        this.mutationEventsAdded_ = false;\r\n        /**\r\n         * Keeps reference to the instance of MutationObserver.\r\n         *\r\n         * @private {MutationObserver}\r\n         */\r\n        this.mutationsObserver_ = null;\r\n        /**\r\n         * A list of connected observers.\r\n         *\r\n         * @private {Array<ResizeObserverSPI>}\r\n         */\r\n        this.observers_ = [];\r\n        this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\r\n        this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\r\n    }\r\n    /**\r\n     * Adds observer to observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be added.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.addObserver = function (observer) {\r\n        if (!~this.observers_.indexOf(observer)) {\r\n            this.observers_.push(observer);\r\n        }\r\n        // Add listeners if they haven't been added yet.\r\n        if (!this.connected_) {\r\n            this.connect_();\r\n        }\r\n    };\r\n    /**\r\n     * Removes observer from observers list.\r\n     *\r\n     * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.removeObserver = function (observer) {\r\n        var observers = this.observers_;\r\n        var index = observers.indexOf(observer);\r\n        // Remove observer if it's present in registry.\r\n        if (~index) {\r\n            observers.splice(index, 1);\r\n        }\r\n        // Remove listeners if controller has no connected observers.\r\n        if (!observers.length && this.connected_) {\r\n            this.disconnect_();\r\n        }\r\n    };\r\n    /**\r\n     * Invokes the update of observers. It will continue running updates insofar\r\n     * it detects changes.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.refresh = function () {\r\n        var changesDetected = this.updateObservers_();\r\n        // Continue running updates if changes have been detected as there might\r\n        // be future ones caused by CSS transitions.\r\n        if (changesDetected) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Updates every observer from observers list and notifies them of queued\r\n     * entries.\r\n     *\r\n     * @private\r\n     * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n     *      dimensions of it's elements.\r\n     */\r\n    ResizeObserverController.prototype.updateObservers_ = function () {\r\n        // Collect observers that have active observations.\r\n        var activeObservers = this.observers_.filter(function (observer) {\r\n            return observer.gatherActive(), observer.hasActive();\r\n        });\r\n        // Deliver notifications in a separate cycle in order to avoid any\r\n        // collisions between observers, e.g. when multiple instances of\r\n        // ResizeObserver are tracking the same element and the callback of one\r\n        // of them changes content dimensions of the observed target. Sometimes\r\n        // this may result in notifications being blocked for the rest of observers.\r\n        activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\r\n        return activeObservers.length > 0;\r\n    };\r\n    /**\r\n     * Initializes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.connect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already added.\r\n        if (!isBrowser || this.connected_) {\r\n            return;\r\n        }\r\n        // Subscription to the \"Transitionend\" event is used as a workaround for\r\n        // delayed transitions. This way it's possible to capture at least the\r\n        // final state of an element.\r\n        document.addEventListener('transitionend', this.onTransitionEnd_);\r\n        window.addEventListener('resize', this.refresh);\r\n        if (mutationObserverSupported) {\r\n            this.mutationsObserver_ = new MutationObserver(this.refresh);\r\n            this.mutationsObserver_.observe(document, {\r\n                attributes: true,\r\n                childList: true,\r\n                characterData: true,\r\n                subtree: true\r\n            });\r\n        }\r\n        else {\r\n            document.addEventListener('DOMSubtreeModified', this.refresh);\r\n            this.mutationEventsAdded_ = true;\r\n        }\r\n        this.connected_ = true;\r\n    };\r\n    /**\r\n     * Removes DOM listeners.\r\n     *\r\n     * @private\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.disconnect_ = function () {\r\n        // Do nothing if running in a non-browser environment or if listeners\r\n        // have been already removed.\r\n        if (!isBrowser || !this.connected_) {\r\n            return;\r\n        }\r\n        document.removeEventListener('transitionend', this.onTransitionEnd_);\r\n        window.removeEventListener('resize', this.refresh);\r\n        if (this.mutationsObserver_) {\r\n            this.mutationsObserver_.disconnect();\r\n        }\r\n        if (this.mutationEventsAdded_) {\r\n            document.removeEventListener('DOMSubtreeModified', this.refresh);\r\n        }\r\n        this.mutationsObserver_ = null;\r\n        this.mutationEventsAdded_ = false;\r\n        this.connected_ = false;\r\n    };\r\n    /**\r\n     * \"Transitionend\" event handler.\r\n     *\r\n     * @private\r\n     * @param {TransitionEvent} event\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\r\n        var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\r\n        // Detect whether transition may affect dimensions of an element.\r\n        var isReflowProperty = transitionKeys.some(function (key) {\r\n            return !!~propertyName.indexOf(key);\r\n        });\r\n        if (isReflowProperty) {\r\n            this.refresh();\r\n        }\r\n    };\r\n    /**\r\n     * Returns instance of the ResizeObserverController.\r\n     *\r\n     * @returns {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.getInstance = function () {\r\n        if (!this.instance_) {\r\n            this.instance_ = new ResizeObserverController();\r\n        }\r\n        return this.instance_;\r\n    };\r\n    /**\r\n     * Holds reference to the controller's instance.\r\n     *\r\n     * @private {ResizeObserverController}\r\n     */\r\n    ResizeObserverController.instance_ = null;\r\n    return ResizeObserverController;\r\n}());\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\r\nvar defineConfigurable = (function (target, props) {\r\n    for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\r\n        var key = _a[_i];\r\n        Object.defineProperty(target, key, {\r\n            value: props[key],\r\n            enumerable: false,\r\n            writable: false,\r\n            configurable: true\r\n        });\r\n    }\r\n    return target;\r\n});\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\r\nvar getWindowOf = (function (target) {\r\n    // Assume that the element is an instance of Node, which means that it\r\n    // has the \"ownerDocument\" property from which we can retrieve a\r\n    // corresponding global object.\r\n    var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\r\n    // Return the local global object if it's not possible extract one from\r\n    // provided element.\r\n    return ownerGlobal || global$1;\r\n});\n\n// Placeholder of an empty content rectangle.\r\nvar emptyRect = createRectInit(0, 0, 0, 0);\r\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\r\nfunction toFloat(value) {\r\n    return parseFloat(value) || 0;\r\n}\r\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\r\nfunction getBordersSize(styles) {\r\n    var positions = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        positions[_i - 1] = arguments[_i];\r\n    }\r\n    return positions.reduce(function (size, position) {\r\n        var value = styles['border-' + position + '-width'];\r\n        return size + toFloat(value);\r\n    }, 0);\r\n}\r\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\r\nfunction getPaddings(styles) {\r\n    var positions = ['top', 'right', 'bottom', 'left'];\r\n    var paddings = {};\r\n    for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\r\n        var position = positions_1[_i];\r\n        var value = styles['padding-' + position];\r\n        paddings[position] = toFloat(value);\r\n    }\r\n    return paddings;\r\n}\r\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getSVGContentRect(target) {\r\n    var bbox = target.getBBox();\r\n    return createRectInit(0, 0, bbox.width, bbox.height);\r\n}\r\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getHTMLElementContentRect(target) {\r\n    // Client width & height properties can't be\r\n    // used exclusively as they provide rounded values.\r\n    var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\r\n    // By this condition we can catch all non-replaced inline, hidden and\r\n    // detached elements. Though elements with width & height properties less\r\n    // than 0.5 will be discarded as well.\r\n    //\r\n    // Without it we would need to implement separate methods for each of\r\n    // those cases and it's not possible to perform a precise and performance\r\n    // effective test for hidden elements. E.g. even jQuery's ':visible' filter\r\n    // gives wrong results for elements with width & height less than 0.5.\r\n    if (!clientWidth && !clientHeight) {\r\n        return emptyRect;\r\n    }\r\n    var styles = getWindowOf(target).getComputedStyle(target);\r\n    var paddings = getPaddings(styles);\r\n    var horizPad = paddings.left + paddings.right;\r\n    var vertPad = paddings.top + paddings.bottom;\r\n    // Computed styles of width & height are being used because they are the\r\n    // only dimensions available to JS that contain non-rounded values. It could\r\n    // be possible to utilize the getBoundingClientRect if only it's data wasn't\r\n    // affected by CSS transformations let alone paddings, borders and scroll bars.\r\n    var width = toFloat(styles.width), height = toFloat(styles.height);\r\n    // Width & height include paddings and borders when the 'border-box' box\r\n    // model is applied (except for IE).\r\n    if (styles.boxSizing === 'border-box') {\r\n        // Following conditions are required to handle Internet Explorer which\r\n        // doesn't include paddings and borders to computed CSS dimensions.\r\n        //\r\n        // We can say that if CSS dimensions + paddings are equal to the \"client\"\r\n        // properties then it's either IE, and thus we don't need to subtract\r\n        // anything, or an element merely doesn't have paddings/borders styles.\r\n        if (Math.round(width + horizPad) !== clientWidth) {\r\n            width -= getBordersSize(styles, 'left', 'right') + horizPad;\r\n        }\r\n        if (Math.round(height + vertPad) !== clientHeight) {\r\n            height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\r\n        }\r\n    }\r\n    // Following steps can't be applied to the document's root element as its\r\n    // client[Width/Height] properties represent viewport area of the window.\r\n    // Besides, it's as well not necessary as the <html> itself neither has\r\n    // rendered scroll bars nor it can be clipped.\r\n    if (!isDocumentElement(target)) {\r\n        // In some browsers (only in Firefox, actually) CSS width & height\r\n        // include scroll bars size which can be removed at this step as scroll\r\n        // bars are the only difference between rounded dimensions + paddings\r\n        // and \"client\" properties, though that is not always true in Chrome.\r\n        var vertScrollbar = Math.round(width + horizPad) - clientWidth;\r\n        var horizScrollbar = Math.round(height + vertPad) - clientHeight;\r\n        // Chrome has a rather weird rounding of \"client\" properties.\r\n        // E.g. for an element with content width of 314.2px it sometimes gives\r\n        // the client width of 315px and for the width of 314.7px it may give\r\n        // 314px. And it doesn't happen all the time. So just ignore this delta\r\n        // as a non-relevant.\r\n        if (Math.abs(vertScrollbar) !== 1) {\r\n            width -= vertScrollbar;\r\n        }\r\n        if (Math.abs(horizScrollbar) !== 1) {\r\n            height -= horizScrollbar;\r\n        }\r\n    }\r\n    return createRectInit(paddings.left, paddings.top, width, height);\r\n}\r\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nvar isSVGGraphicsElement = (function () {\r\n    // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\r\n    // interface.\r\n    if (typeof SVGGraphicsElement !== 'undefined') {\r\n        return function (target) { return target instanceof getWindowOf(target).SVGGraphicsElement; };\r\n    }\r\n    // If it's so, then check that element is at least an instance of the\r\n    // SVGElement and that it has the \"getBBox\" method.\r\n    // eslint-disable-next-line no-extra-parens\r\n    return function (target) { return (target instanceof getWindowOf(target).SVGElement &&\r\n        typeof target.getBBox === 'function'); };\r\n})();\r\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\r\nfunction isDocumentElement(target) {\r\n    return target === getWindowOf(target).document.documentElement;\r\n}\r\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction getContentRect(target) {\r\n    if (!isBrowser) {\r\n        return emptyRect;\r\n    }\r\n    if (isSVGGraphicsElement(target)) {\r\n        return getSVGContentRect(target);\r\n    }\r\n    return getHTMLElementContentRect(target);\r\n}\r\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\r\nfunction createReadOnlyRect(_a) {\r\n    var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\r\n    // If DOMRectReadOnly is available use it as a prototype for the rectangle.\r\n    var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\r\n    var rect = Object.create(Constr.prototype);\r\n    // Rectangle's properties are not writable and non-enumerable.\r\n    defineConfigurable(rect, {\r\n        x: x, y: y, width: width, height: height,\r\n        top: y,\r\n        right: x + width,\r\n        bottom: height + y,\r\n        left: x\r\n    });\r\n    return rect;\r\n}\r\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\r\nfunction createRectInit(x, y, width, height) {\r\n    return { x: x, y: y, width: width, height: height };\r\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\r\nvar ResizeObservation = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObservation.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     */\r\n    function ResizeObservation(target) {\r\n        /**\r\n         * Broadcasted width of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastWidth = 0;\r\n        /**\r\n         * Broadcasted height of content rectangle.\r\n         *\r\n         * @type {number}\r\n         */\r\n        this.broadcastHeight = 0;\r\n        /**\r\n         * Reference to the last observed content rectangle.\r\n         *\r\n         * @private {DOMRectInit}\r\n         */\r\n        this.contentRect_ = createRectInit(0, 0, 0, 0);\r\n        this.target = target;\r\n    }\r\n    /**\r\n     * Updates content rectangle and tells whether it's width or height properties\r\n     * have changed since the last broadcast.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObservation.prototype.isActive = function () {\r\n        var rect = getContentRect(this.target);\r\n        this.contentRect_ = rect;\r\n        return (rect.width !== this.broadcastWidth ||\r\n            rect.height !== this.broadcastHeight);\r\n    };\r\n    /**\r\n     * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n     * from the corresponding properties of the last observed content rectangle.\r\n     *\r\n     * @returns {DOMRectInit} Last observed content rectangle.\r\n     */\r\n    ResizeObservation.prototype.broadcastRect = function () {\r\n        var rect = this.contentRect_;\r\n        this.broadcastWidth = rect.width;\r\n        this.broadcastHeight = rect.height;\r\n        return rect;\r\n    };\r\n    return ResizeObservation;\r\n}());\n\nvar ResizeObserverEntry = /** @class */ (function () {\r\n    /**\r\n     * Creates an instance of ResizeObserverEntry.\r\n     *\r\n     * @param {Element} target - Element that is being observed.\r\n     * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n     */\r\n    function ResizeObserverEntry(target, rectInit) {\r\n        var contentRect = createReadOnlyRect(rectInit);\r\n        // According to the specification following properties are not writable\r\n        // and are also not enumerable in the native implementation.\r\n        //\r\n        // Property accessors are not being used as they'd require to define a\r\n        // private WeakMap storage which may cause memory leaks in browsers that\r\n        // don't support this type of collections.\r\n        defineConfigurable(this, { target: target, contentRect: contentRect });\r\n    }\r\n    return ResizeObserverEntry;\r\n}());\n\nvar ResizeObserverSPI = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n     *      when one of the observed elements changes it's content dimensions.\r\n     * @param {ResizeObserverController} controller - Controller instance which\r\n     *      is responsible for the updates of observer.\r\n     * @param {ResizeObserver} callbackCtx - Reference to the public\r\n     *      ResizeObserver instance which will be passed to callback function.\r\n     */\r\n    function ResizeObserverSPI(callback, controller, callbackCtx) {\r\n        /**\r\n         * Collection of resize observations that have detected changes in dimensions\r\n         * of elements.\r\n         *\r\n         * @private {Array<ResizeObservation>}\r\n         */\r\n        this.activeObservations_ = [];\r\n        /**\r\n         * Registry of the ResizeObservation instances.\r\n         *\r\n         * @private {Map<Element, ResizeObservation>}\r\n         */\r\n        this.observations_ = new MapShim();\r\n        if (typeof callback !== 'function') {\r\n            throw new TypeError('The callback provided as parameter 1 is not a function.');\r\n        }\r\n        this.callback_ = callback;\r\n        this.controller_ = controller;\r\n        this.callbackCtx_ = callbackCtx;\r\n    }\r\n    /**\r\n     * Starts observing provided element.\r\n     *\r\n     * @param {Element} target - Element to be observed.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.observe = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is already being observed.\r\n        if (observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.set(target, new ResizeObservation(target));\r\n        this.controller_.addObserver(this);\r\n        // Force the update of observations.\r\n        this.controller_.refresh();\r\n    };\r\n    /**\r\n     * Stops observing provided element.\r\n     *\r\n     * @param {Element} target - Element to stop observing.\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.unobserve = function (target) {\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        // Do nothing if current environment doesn't have the Element interface.\r\n        if (typeof Element === 'undefined' || !(Element instanceof Object)) {\r\n            return;\r\n        }\r\n        if (!(target instanceof getWindowOf(target).Element)) {\r\n            throw new TypeError('parameter 1 is not of type \"Element\".');\r\n        }\r\n        var observations = this.observations_;\r\n        // Do nothing if element is not being observed.\r\n        if (!observations.has(target)) {\r\n            return;\r\n        }\r\n        observations.delete(target);\r\n        if (!observations.size) {\r\n            this.controller_.removeObserver(this);\r\n        }\r\n    };\r\n    /**\r\n     * Stops observing all elements.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.disconnect = function () {\r\n        this.clearActive();\r\n        this.observations_.clear();\r\n        this.controller_.removeObserver(this);\r\n    };\r\n    /**\r\n     * Collects observation instances the associated element of which has changed\r\n     * it's content rectangle.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.gatherActive = function () {\r\n        var _this = this;\r\n        this.clearActive();\r\n        this.observations_.forEach(function (observation) {\r\n            if (observation.isActive()) {\r\n                _this.activeObservations_.push(observation);\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Invokes initial callback function with a list of ResizeObserverEntry\r\n     * instances collected from active resize observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.broadcastActive = function () {\r\n        // Do nothing if observer doesn't have active observations.\r\n        if (!this.hasActive()) {\r\n            return;\r\n        }\r\n        var ctx = this.callbackCtx_;\r\n        // Create ResizeObserverEntry instance for every active observation.\r\n        var entries = this.activeObservations_.map(function (observation) {\r\n            return new ResizeObserverEntry(observation.target, observation.broadcastRect());\r\n        });\r\n        this.callback_.call(ctx, entries, ctx);\r\n        this.clearActive();\r\n    };\r\n    /**\r\n     * Clears the collection of active observations.\r\n     *\r\n     * @returns {void}\r\n     */\r\n    ResizeObserverSPI.prototype.clearActive = function () {\r\n        this.activeObservations_.splice(0);\r\n    };\r\n    /**\r\n     * Tells whether observer has active observations.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    ResizeObserverSPI.prototype.hasActive = function () {\r\n        return this.activeObservations_.length > 0;\r\n    };\r\n    return ResizeObserverSPI;\r\n}());\n\n// Registry of internal observers. If WeakMap is not available use current shim\r\n// for the Map collection as it has all required methods and because WeakMap\r\n// can't be fully polyfilled anyway.\r\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\r\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\r\nvar ResizeObserver = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of ResizeObserver.\r\n     *\r\n     * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n     *      dimensions of the observed elements change.\r\n     */\r\n    function ResizeObserver(callback) {\r\n        if (!(this instanceof ResizeObserver)) {\r\n            throw new TypeError('Cannot call a class as a function.');\r\n        }\r\n        if (!arguments.length) {\r\n            throw new TypeError('1 argument required, but only 0 present.');\r\n        }\r\n        var controller = ResizeObserverController.getInstance();\r\n        var observer = new ResizeObserverSPI(callback, controller, this);\r\n        observers.set(this, observer);\r\n    }\r\n    return ResizeObserver;\r\n}());\r\n// Expose public methods of ResizeObserver.\r\n[\r\n    'observe',\r\n    'unobserve',\r\n    'disconnect'\r\n].forEach(function (method) {\r\n    ResizeObserver.prototype[method] = function () {\r\n        var _a;\r\n        return (_a = observers.get(this))[method].apply(_a, arguments);\r\n    };\r\n});\n\nvar index = (function () {\r\n    // Export existing implementation if available.\r\n    if (typeof global$1.ResizeObserver !== 'undefined') {\r\n        return global$1.ResizeObserver;\r\n    }\r\n    return ResizeObserver;\r\n})();\n\nexport default index;\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","'use strict';\n\nfunction templatePolyfill() {\n  if ('content' in document.createElement('template')) {\n    return false;\n  }\n\n  var templates = document.getElementsByTagName('template');\n  var plateLen = templates.length;\n\n  for (var x = 0; x < plateLen; ++x) {\n    var template = templates[x];\n    var content = template.childNodes;\n    var fragment = document.createDocumentFragment();\n\n    while (content[0]) {\n      fragment.appendChild(content[0]);\n    }\n\n    template.content = fragment;\n  }\n}\n\nmodule.exports = templatePolyfill;\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","(function (arr) {\n  arr.forEach(function (item) {\n    if (item.hasOwnProperty('after')) {\n      return;\n    }\n    Object.defineProperty(item, 'after', {\n      configurable: true,\n      enumerable: true,\n      writable: true,\n      value: function after() {\n        var argArr = Array.prototype.slice.call(arguments),\n          docFrag = document.createDocumentFragment();\n\n        argArr.forEach(function (argItem) {\n          var isNode = argItem instanceof Node;\n          docFrag.appendChild(isNode ? argItem : document.createTextNode(String(argItem)));\n        });\n\n        this.parentNode.insertBefore(docFrag, this.nextSibling);\n      }\n    });\n  });\n})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);\n","import utils from './utils'\n\nexport default class Data {\n  constructor (data, cb) {\n    this.data = data;\n    this.cb = cb;\n    this.watchers = [];\n  }\n\n  get () {\n    return this.data\n  }\n\n  set (val) {\n    let newVal;\n    let oldVal = this.data;\n    let watcher = this.cb();\n\n    if (newVal === oldVal) {\n      return\n    }\n\n    this.data = newVal\n\n    if (watcher) {   \n      utils.nextFrame(() => watcher(newVal, oldVal));        \n    }\n  }\n}","import Utils from './utils';\n\nexport default class Descriptor {\n  constructor(value, node) {\n    this.watchers = [];\n    this.value = null;\n    this.computer = null;\n    this.node = node || null;\n\n    if (value === null) {\n      this.value = null;\n    } else {\n      switch (typeof value) {\n        case 'function':\n          this.computer = value;\n          this.value = null;\n        break;\n\n        case 'object':\n          if ('$node' in value) {\n            this.computer = value;\n            this.value = null;\n            break;\n          }\n\n          if (value instanceof Element) {\n            this.value = value;\n            break;\n          }\n\n          if ('watcher' in value) {\n            this.addWatcher(value.watcher)\n          }\n\n          if ('value' in value) {\n            if (typeof value.value === 'function') {\n              this.computer = value.value;\n              this.value = null;\n            } else {\n              this.value = value.value;\n            }\n            break;\n          }\n\n          if (this.value === null) {\n            this.value = {};\n          }\n\n          Utils.loop(value, (val, key) => {\n            Object.defineProperty(this.value, key, new Descriptor(val, this.node));\n          })\n        break;\n\n        default:\n          this.value = value;\n        break;\n      }\n    }\n\n    return {\n      get: () => {\n        if (this.computer) {\n          return this.computer.call(this, this.value);\n        }\n        return this.value;\n      },\n      set: (value) => {\n        if (this.value === value) {\n          return;\n        }\n\n        if (this.computer) {\n          this.value = this.computer.call(this, value);\n          this.update();\n          return;\n        }\n\n        if (value === null) {\n          this.value = value\n          this.update();\n          return;\n        }\n\n        if (value instanceof Element) {\n          this.value = value;\n          this.update();\n          return;\n        }\n        \n        if (typeof value === 'object') {\n          if ('$node' in value) {\n            this.value = value;\n            this.update();\n            return;\n          }\n\n          if ('watcher' in value) {\n            this.addWatcher(value.watcher);\n            if (!('value' in value)) return\n          }\n\n          if ('value' in value) {\n            this.value = value.value;\n            this.update();\n            return;\n          }\n\n          Utils.loop(value, (val, key) => {\n            if (this.value === null) {\n              this.value = {};\n            }\n            \n            if (key in this.value) {\n              this.value[key] = val;\n            } else {\n              Object.defineProperty(this.value, key, new Descriptor(val))\n            }\n          });\n        }\n\n        this.value = value;\n        this.update();\n      },\n      writeable: true,\n      enumerable: true,\n      configurable: false\n    }\n  }\n\n  update () {\n    this.watchers.forEach((watcher) => {\n      if (typeof this.value === 'function') {\n        watcher(this.value())\n      } else {\n        watcher(this.value)\n      }\n    })\n  }\n\n  addWatcher (watcher) {\n    if (Array.isArray(watcher)) {\n      this.watchers = this.watchers.concat(watcher.map((fn) => {\n          return fn.bind(this.node)\n        })\n      )\n    }\n    if (typeof watcher === 'function') {\n      this.watchers.push(watcher.bind(this.node))\n    }\n  }\n}","'use strict';\n\nexport default {\n  plugins: null,\n  head: null,\n  vdom: {}\n};","'use strict';\n\n// Polyfills\nimport './after-polyfill';\nimport templatePolyfill from 'template-polyfill';\nimport Promise from 'promise-polyfill';\n\n// Imports\nimport Vnode from './vnode';\nimport utils from './utils';\nimport global from './global';\n\nexport default class Symbiotic {\n  constructor (config) {\n    global.data = config.data || {};\n    global.states = config.states || {};\n    global.plugins = config.plugins || [];\n  }\n\n  attach (el) {\n  const $scope = utils.getScope(el);\n  global.head = utils.findHead($scope);\n\n  if (!'content' in document.createElement('template')) {\n    this.boostrapTemplates(global.head);\n  }\n  \n  return new Promise(function(resolve, reject) {\n    ;((start) => {\n      if (document.readyState !== 'loading') {\n        resolve(start());\n      } else {\n        document.addEventListener('DOMContentLoaded', () => {\n        resolve(start());\n      });\n    }\n    })(() => {\n        let t0 = performance.now();\n        let vnode = new Vnode($scope);\n\n        utils.init(vnode);\n\n        let t1 = performance.now();\n        console.log('Symbiote attached in ' + (t1 - t0) + ' milliseconds.');\n        return vnode\n      });\n    })\n  }\n\n  boostrapTemplates (head) {\n    const polyfillStyle = utils.createStyleNode();\n    const polyfillScript = document.createElement('script');\n    polyfillScript.innerText = 'document.createElement(\"template\")';\n    polyfillStyle.innerHTML = 'template { display: none !important};'\n    head.appendChild(polyfillStyle);\n    head.appendChild(polyfillScript);\n    templatePolyfill();\n  }\n}\n\nif (window && window.Symbiotic === undefined) {\n  window.Symbiotic = Symbiotic;\n}","'use strict';\n\nimport utils from './utils';\nimport global from './global';\nimport Observer from './observe';\nimport Data from './data';\nimport TextNode from './textNode';\n\nexport default class Model {\n  constructor ($node) {\n    this.$styleNode = utils.createStyleNode();\n    this.events = {};\n    this.style = {};\n    this.firstChild = null;\n    this.lastChild = null;\n    this.next = null;\n    this.prev = null;\n    this.cloned = {};\n    this.$node = $node;\n    this.id = $node.getAttribute('id') || utils.uid();\n    this.show = true;\n    this.textNodes = [];\n    this.width = $node.offsetWidth;\n    this.height = $node.offsetHeight;\n    this.state = 'start';\n    this.hover = false;\n    this.prevState = '';\n    this.states = {};\n    this.watchers = {};\n\n    global.vdom[this.id] = {\n      tagName: this.tagName,\n      id: this.id,\n      show: this.show,\n      nodeType: $node.nodeType,\n    }\n\n    this.model = {\n      $node: $node,\n      $event: this.$event.bind(this),\n      textNodes: this.textNodes,\n      on: this.on.bind(this),\n      emit: this.emit.bind(this),\n      append: this.append.bind(this),\n      prepend: this.prepend.bind(this),\n      find: this.find.bind(this),\n      findParent: this.findParent.bind(this),\n      // render: this.render.bind(this),\n      plugins: this.plugins.bind(this),\n      extend: this.extend.bind(this),\n      watch: this.watch.bind(this)\n    };\n\n    if (this.id !== $node.getAttribute('id')) {\n      $node.setAttribute('id', this.id);\n    }\n\n    Object.defineProperty(this.model, 'id', {\n      get: () => {\n        return this.id;\n      }\n    });\n\n    if ($node.tagName) {\n      this.tagName = $node.tagName.toLowerCase();\n\n      Object.defineProperty(this.model, 'tagName', {\n        get: () => {\n          return this.tagName;\n        }\n      });\n    }\n\n    if (this.tagName === 'template') {\n      this.$template = utils.getTemplateNode($node);\n      this.model.$template = this.$template;\n    }\n\n    \n    Object.defineProperty(this.model, 'show', {\n      get: () => {\n        return this.show;\n      },\n      set: (val) => {\n        if (val) {\n          if ($node.style.removeProperty) {\n            $node.style.removeProperty('display');\n          } else {\n            $node.style.removeAttribute('display');\n          }\n        } else {\n          $node.style.display = 'none'\n        }\n        this.show = val;\n      }\n    });\n\n    Object.defineProperty(this.model, 'prev', {\n      get: () => {\n        return this.prev;\n      },\n      set: (val) => {\n        this.prev = val;\n        return this.prev;\n      }\n    });\n\n    Object.defineProperty(this.model, 'next', {\n      get: () => {\n        return this.next;\n      },\n      set: (val) => {\n        this.next = val;\n        return this.next;\n      }\n    });\n\n    Object.defineProperty(this.model, 'child', {\n      get: () => {\n        return this.firstChild;\n      },\n      set: (val) => {\n        this.firstChild = val;\n        return this.firstChild;\n      }\n    });\n\n    Object.defineProperty(this.model, 'parent', {\n      get: () => {\n        return this.parent;\n      },\n      set: (val) => {\n        this.parent = val\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(this.model, 'states', {\n      get: () => {\n        return this.states\n      },\n      set: states => {\n        this.states = states\n        this.updateState()\n      }\n    })\n\n    Object.defineProperty(this.model, 'state', {\n      get: () => {\n        return this.state\n      },\n      set: state => {\n        if (this.state !== state) {\n          this.state = state\n          this.updateState()\n        }\n      }\n    })\n\n    Object.defineProperty(this.model, 'style', {\n      get: () => {\n        this.updateStyles(this.style, this.$styleNode, this.id);\n        return this.style;\n      },\n      set: (val) => {\n        Object.assign(this.style, val);\n        this.updateStyles(this.style, this.$styleNode, this.id);\n        return this.style;\n      }\n    });\n\n    if ($node.tagName === 'input') {\n      Object.defineProperty(this.model, 'value', {\n        get: () => {\n          return this.$node.value\n        },\n        set: (val) => {\n          this.$node.value = val;\n        }\n      })\n    }\n\n    this.$node.addEventListener('mouseover', () => {\n      this.updateState('hover')\n    })\n\n    this.$node.addEventListener('mouseout', () => {\n      this.updateState()\n    })\n\n    utils.check($node.attributes, (attributes) => utils.loop(attributes, (attribute) => {\n      let attrName = utils.dashToCamelCase(attribute.nodeName);\n      let $attrValue = attribute.nodeValue;\n  \n      if (!this[attrName] && attrName !== 'id' && attrName !== 'for') {\n        this[attrName] = $attrValue;\n        global.vdom[this.id][attrName] = $attrValue;\n\n        if (~$attrValue.indexOf('${')) {\n          $attrValue.replace(utils.mustacheRegex, (match, variable) => {\n\n            var refs = variable.split('.');\n\n            (function loop (obj, store, refs, index) {\n              let key = refs[index];\n              if (index < refs.length - 1) {\n                obj[key] = {};\n                store[key] = {};\n                index++\n                loop(obj[key], store[key], refs, index)\n              } else {\n                store[key] = $attrValue;\n                Object.defineProperty(obj, key, {\n                  get: () => {\n                    return store[key]\n                  },\n                  set: (val) => {\n                    ;(utils.debounce(($node) => {\n                      $node.setAttribute(utils.camelCaseToDash(attrName), store[key].replace(match, val));\n                    }))($node)\n                  }\n                })\n              }\n            })(this.model, this, refs, 0)\n          });\n        } else {\n          Object.defineProperty(this.model, attrName, {\n            get: () => {\n              return this[attrName]\n            },\n            set: (val) => {\n              if (this[attrName] !== val) {\n                this[attrName] = val;\n\n                ;(utils.debounce(($node) => {\n                  $node.setAttribute(utils.camelCaseToDash(attrName), this[attrName]);\n                }))($node);\n              }\n            }\n          });\n        }\n      }\n    }));\n\n    utils.check($node.childNodes, ($children) => utils.loop($children, ($child) => {\n      if ($child.nodeType === 1) {\n        let child = new Model($child);\n        child.parent = this.model;\n  \n        if (!this.lastChild) {\n          this.firstChild = child;\n          this.model.child = child;\n          global.vdom[this.id].child = child.id;\n        } else {\n          this.lastChild.next = child;\n          child.prev = this.lastChild;\n          global.vdom[this.lastChild.id].next = child.id;\n        }\n        this.lastChild = child;\n      }\n\n      utils.getTextNode($child, ($textNode) => {\n        this.textNodes.push(new TextNode($textNode, this.model));\n      });            \n    }));\n\n    if ($node.getAttribute('for')) {\n      var list = $node.getAttribute('for').split(' in ');\n      var key = list[0];\n      var data = list[1];\n      this.cloned = {};\n\n      Object.defineProperty(this.model, data, {\n        set: (vals) => {\n          this[data] = vals;\n          utils.check(vals, (vals) => {\n            this.cloneNodes(vals, key)\n          })\n        },\n        get: () => {\n          return this[data]\n        }\n      })\n    }\n\n    new ResizeObserver((entries, observer) => {\n      for (const entry of entries) {\n        const { left, top, width, height } = entry.contentRect;\n        console.log(left, top, width, height)\n        this.width = width;\n        this.height = height;\n        this.top = top;\n        this.left = left;\n      }\n    }).observe(this.$node);\n\n    let pos = ['top', 'left', 'width', 'height'];\n\n    pos.forEach((p) => {\n      Object.defineProperty(this.model, p, {\n        get: () => {\n          return this[p]\n        },\n        set: (val) => {\n          this.style[p] = val\n        }\n      })\n    })\n\n    if (global.plugins !== null) {\n      this.plugins(global.plugins);\n    }\n        \n    return this.model;\n  }\n\n  $event(event, cb, useCapture) {\n    useCapture = useCapture || false;\n    this.$node.addEventListener(event, (e) => cb.apply(this.model, [e]), useCapture)\n  }\n\n  append ($node, methods) {\n    let node = new Model($node);\n    node.parent = this.model;\n\n    if (!this.firstChild) {\n      this.firstChild = node;\n    }\n\n    if (this.lastChild) {\n      node.prev = this.lastChild;\n      this.lastChild.next = node;\n    }\n    \n    this.lastChild = node;\n\n    (utils.debounce(() => {\n      this.$node.appendChild(node.$node);\n      utils.init(node, methods);\n    }))();\n\n    return node;\n  }\n\n  cloneNodes(vals, key) {\n    utils.debounce(() => {\n      utils.loop(vals, (val, k) => {\n        let $cloned = this.$template.children[0].cloneNode(true);\n        let cloned = this.parent.append($cloned);\n\n        if (cloned.data === key) {\n          this.cloned[key].extend(val);\n          this.cloned[key].textNodes.forEach((textNode) => { textNode.update() });\n        }\n\n        cloned.find(key, (node) => {\n          (function loop(node, data) {\n\n            utils.loop(data, (v, k) => {\n              if (k in node) {\n                if (typeof v !== 'object') {\n                  node[k] = v\n                } else {\n                  loop(node[k], v)\n                }\n              } else {\n                if (typeof node.extend === 'function') {\n                  node.extend({ [k]: v })\n                }\n              }\n            });\n          })(node[key], val)\n        })\n      })\n    })();\n  }\n\n  emit (event, payload) {\n    let bubbles = true;\n    payload = payload || this.model;\n\n    if (this.events === undefined) {\n      this.events = {};\n    }\n\n    if (this.events[event]) {\n      for (let i = 0; i < this.events[event].length; i++) {\n        let e = this.events[event][i];\n\n        e.fn(payload);\n        bubbles = !e.bubbles ? e.bubbles : bubbles;\n      }\n    }\n\n    this.updateState(event)\n\n    if (bubbles && this.parent) {\n      this.parent.emit(event, payload);\n    }        \n  }\n\n  extend (data) {\n    const ctx = this\n    ; (function loop(model, data) {\n      utils.check(data, (data) => utils.loop(data, (value, key) => {\n        if (model[key] !== undefined) {\n          throw 'Key on model cannot be redefined';\n        }\n\n        if (typeof value === 'function') {\n          let Proxy = new Data(value.bind(model), () => {\n            return ctx.watchers[key] || null\n          });\n\n          Object.defineProperty(model, key, {\n            get: () => {\n              return Proxy.get();\n            },\n            configurable: true\n          })\n        } else if (typeof value === 'object') {\n          model[key] = model[key] || {};\n          loop(model[key], value)\n        } else {\n          let Proxy = new Data(value, () => {\n            return ctx.watchers[key] || null\n          });\n\n          Object.defineProperty(model, key, {\n            get: () => {\n              return Proxy.get();\n            },\n            set: (val) => {\n              Proxy.set(val)\n            },\n            configurable: true\n          })\n        }\n      }))\n    })(this.model, data);\n  }\n\n  find (attrName, value, cb) {\n    let result = [];\n\n    attrName = utils.dashToCamelCase(attrName);\n\n    (function dig(vnode) {\n      if (vnode) {\n        if (vnode[attrName] !== undefined && typeof value === 'function') {\n          value(vnode);\n          result.push(vnode);\n\n        } else if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n          if (typeof cb === 'function') {\n            cb(vnode);\n          }\n\n          result.push(vnode);\n        }\n\n        \n\n        if (vnode.child) {\n          dig(vnode.child);\n        }\n\n        if (vnode.next) {\n          dig(vnode.next);\n        }\n      }\n\n    })(this.firstChild);\n\n    return result;\n  }\n\n  findParent (attrName, value, cb) {\n    let result = [];\n    attrName = utils.dashToCamelCase(attrName);\n\n    (function dig(vnode) {\n      if (vnode) {\n        if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n          if (typeof cb === 'function') {\n            cb(vnode);\n          }\n\n          result.push(vnode);\n        }\n\n        if (vnode.parent) {\n          dig(vnode.parent);\n        }\n      }\n\n    })(this.firstChild);\n\n    return result;\n  }\n\n  on (event, fn) {\n    event = event.split('.');\n    var name = event[0];\n    var bubbles = event[1] !== 'stop';\n\n    if (this.events === undefined) {\n      this.events = {};\n    }\n\n    if (this.events[name] === undefined) {\n      this.events[name] = [];\n    }\n\n    this.events[name].push( {fn: fn, bubbles: bubbles} );\n  }\n\n  plugins(Plugins) {\n    if (!Plugins.length > 0) {\n      return null\n    }\n\n    utils.check(Plugins, () => utils.loop(Plugins, (Plugin) => {\n      this.extend(new Plugin(this))\n    }));\n  }\n\n  prepend($node, methods) {\n    let node = new Model($node);\n    node.parent = this.model;\n\n    if (this.firstChild) {\n      node.next = this.firstChild;\n      this.firstChild.prev = node;\n    }\n\n    this.firstChild = node;\n\n    (utils.debounce(() => {\n      this.$node.prepend(node.$node);\n      utils.init(node, methods);\n    }))();\n\n    return node;\n  }\n\n  render(args) {\n    if (!args.template && this.tagName !== 'template') {\n      return\n    }\n\n    let template = args.template || this.template;\n    let data = args.data || {};\n    let methods = args.methods || global.methods;\n    let refs = template.match(/{{{?(#[a-z ]+ )?[a-z ]+.[a-z ]*}?}}/g);\n    let range = document.createRange();\n\n    utils.check(refs, (refs) => utils.loop(refs, (ref) => {\n      var key = ref.replace(/{{|}}/g, '').trim();\n      var value = utils.stringRef(key, data);\n\n      template = template.replace(ref, value);\n    }))\n\n    let frag = range.createContextualFragment(template);\n\n    return utils.check(frag.children, ($children) => utils.loop($children, ($child) => {\n      if (this.tagName === 'template') {\n        if (this.parent !== undefined) {\n          return this.parent.append($child, methods)\n        }\n      } else {\n        return this.append($child, methods);\n      }\n\n    }));\n  }\n\n  updateState (event) {\n    event = event || null;\n    let state = null;\n    let next  = null;\n    let ctx = this;\n\n    if (!(this.state in this.states)) {\n      return\n    }\n\n    state = this.states[this.state]\n\n    if (!event) {\n      _update(state)\n      return\n    }\n\n    if (state.on === undefined) {\n      return\n    }\n\n    if (!(event in state.on)) {\n      return\n    }\n\n    if (typeof state.on[event] === 'string') {\n      this.state = state.on[event]\n      next = this.states[this.state]\n    }\n\n    if (typeof state.on[event] === 'object') {\n      next = state.on[event]\n    }\n\n    _update(next)\n\n    function _update (values) {\n      utils.loop(values, (value, key) => {\n        if (key !== 'on') {\n          if (typeof value === 'function') {\n            ctx.model[key] = value(global.vdom[ctx.id][key])\n          } else {\n            ctx.model[key] = value\n          }\n        }\n      })\n    }\n  }\n\n  updateStyles() {\n    (utils.debounce(() => {\n      if (!utils.check(this.style)) {\n        this.$styleNode.innerHTML = ''\n        return\n      }\n\n      var styleString = `#${this.id}{`;\n\n      utils.loop(this.style, function (value, prop) {\n        styleString += `${utils.camelCaseToDash(prop)}:${value};`;\n      })\n\n      styleString += '}';\n\n      if (this.$styleNode.parentNode === null) {\n        global.head.appendChild(this.$styleNode);\n      }\n\n      this.$styleNode.innerHTML = styleString;\n    }))();\n  }\n\n  updateTextNodes (vals, key) {\n    (utils.debounce(() => {\n      utils.loop(vals, (val, k) => {\n        if (this.cloned[k] === undefined) {\n          let $clonedNode = this.$node.content.children[0].cloneNode(true);\n          this.cloned[k] = this.parent.append($clonedNode);\n        }\n\n        if (this.cloned[k].data && this.cloned[k].data === key) {\n          this.cloned[k][key] = val\n\n          this.cloned[k].textNodes.forEach((textNode) => {\n            textNode.update();\n          })\n        }\n\n        this.cloned[k].find('data', key, (found) => {\n          found[key] = val\n\n          found.textNodes.forEach((textNode) => {\n            textNode.update()\n          })\n        })\n      })\n    }))();\n  }\n\n  watch(watchers) {\n    Object.assign(this.watchers, watchers);\n  }\n}","'use strict';\n\nexport default class {\n\tconstructor (object, watchers) {\n\t\tconst context = this;\n\t\tcontext.watchers = watchers || [];\n\n\t\tconst handler = {\n\t\t\tget(target, property, receiver) {\n\t\t\t\ttry {\n\t\t\t\t\treturn new Proxy(target[property], handler);\n\t\t\t\t} catch (err) {\n\t\t\t\t\treturn Reflect.get(target, property, receiver);\n\t\t\t\t}\n\t\t\t},\n\t\t\tdefineProperty(target, property, descriptor) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.defineProperty(target, property, descriptor);\n\t\t\t},\n\t\t\tdeleteProperty(target, property) {\n\t\t\t\tcontext.watchers.forEach(watcher => {\n\t\t\t\t\twatcher.call(null, target, property, descriptor)\n\t\t\t\t});\n\t\t\t\treturn Reflect.deleteProperty(target, property);\n\t\t\t}\n\t\t};\n\t\n\t\treturn new Proxy(object, handler);\n\t}\n}\t","import utils from './utils';\n\nexport default class {\n  constructor ($node, model) {\n    const ctx = this;\n    this.$node = $node;\n    this.originalContent = $node.textContent;\n    this.model = model;\n    this.data = {};\n\n    this.replace((variable) => {\n      (function loop(model, refs, index) {\n        let key = refs[index];\n        if (index < refs.length - 1) {\n          model[key] = {};\n          index++\n          loop(model[key], refs, index)\n        } else {\n          Object.defineProperty(model, key, {\n            get: () => {\n              return ctx.data\n            },\n            set: (val) => {\n              ctx.data = val\n              ;(utils.debounce(() => {\n                ctx.update()\n              }))();\n            },\n            configurable: true\n          })\n        }\n      })(this.model, variable.split('.'), 0)\n\n      return utils.stringRef(variable, model);\n    })  \n  }\n\n  replace (cb) {\n    this.$node.textContent = this.originalContent.replace(utils.mustacheRegex, (match, variable) => {\n      return cb(variable);\n    });\n  }\n\n  update () {\n    this.replace((variable) => {\n      return utils.stringRef(variable, this.model);\n    })\n  }\n}","'use strict';\n\nimport Model from './model';\nimport global from './global';\n\nexport default {\n  id: 0,\n  prefix: 'vnom-',\n  mustacheRegex: /\\${\\s*([\\w\\.]+)\\s*}/g,\n  camelCaseToDash: function (myStr) {\n    return myStr.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  },\n  dashToCamelCase: function (myString) {\n    return myString.replace(/-([a-z])/g, function (g) {\n      return g[1].toUpperCase();\n    });\n  },\n  createStyleNode: function () {\n    let styleNode = document.createElement('style');\n\n    styleNode.type = 'text/css';\n\n    return styleNode;\n  },\n  uid: function () {\n    return this.prefix + this.id++;\n  },\n  debounce: function (func) {\n    var frame = null;\n\n    return function executedFunction() {\n      let context = this;\n      let args = arguments;\n\n      if (frame !== null) window.cancelAnimationFrame(frame);\n\n      frame = window.requestAnimationFrame(() => {\n        func.apply(context, args);\n      })\n    }\n  },\n  nextFrame: function (fn) {\n    var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;\n    requestAnimationFrame(() => {\n      fn()\n    });\n  },\n  isNode: function (o) {\n    return typeof Node === \"object\" ? o instanceof Node : o && typeof o === \"object\" && typeof o.nodeType === \"number\" && typeof o.nodeName===\"string\"\n  },\n  check (item, cb) {\n    if (item === null) {\n      return false\n    }\n    \n    if (item === undefined) {\n      return false\n    }\n\n    switch (typeof item) {\n      case 'array':\n        if (item.length === 0) {\n          return false\n        }\n        break;\n      case 'object':\n        if (!this.isNode(item)) {\n          if (Object.keys(item).length === 0) {\n            return false\n          }\n        }\n        break;\n      case 'string':\n        if (item === '') {\n          return false\n        }\n        break;\n    }\n\n    if (typeof cb === 'function') {\n      return cb.apply(null, [item]);\n    }\n\n    return true;\n  },\n  loop (object, cb) {\n    let length = object.length;\n    let result = [];\n\n    if (length > 0) {\n      for (let i=0; i < length; i++) {\n        let res = cb.apply(null, [object[i], i, length]);\n        if (res) {\n          result.push(res)\n        }\n      }\n    } else {\n      for (let key in object) {\n        let res = cb.apply(null, [object[key], key]);\n        if (res) {\n          result.push();\n        }\n      }\n    }\n    return result;\n  },\n  getTextNode ($child, cb) {\n    if ($child.nodeType === 3) {\n      if ($child.nodeValue.trim().length > 0 ) {\n        return cb($child)\n      }\n    }\n  },\n  getTemplateNode ($node, cb) {\n    if ($node.tagName === 'TEMPLATE') {\n      if (typeof cb === 'function') {\n        return cb.apply(null, [$node.content]);\n      }\n      return $node.content;\n    }\n   },\n  stringRef (ref, object) {\n    return ref.split('.').reduce((object,i) => {\n      if (object) {\n        if (object[i]) {\n          return object[i]\n        } else {\n          return null\n        }\n      }\n    }, object);\n  },\n  init (vnom, states) {\n    states = states || global.states;\n\n    for (let state in states) {\n      let attribute = '';\n      let attributeValue = '';\n\n      switch (state.charAt(0)) {\n        case '.':\n          attribute = 'class';\n          attributeValue = state.substring(1);\n          break;\n        case '#':\n          attribute = 'id';\n          attributeValue = state.substring(1);\n          break;\n        default:\n          attribute = 'tagName'\n          attributeValue = state;\n      }\n\n      if (attribute in vnom) {\n        if (vnom[attribute].split(' ').indexOf(attributeValue) > -1) {\n          let obj = states[state];\n          vnom.setStates(obj);       \n        }\n      }\n    }\n\n    if (vnom.firstChild) {\n      this.init(vnom.firstChild, states)\n    }\n\n    if (vnom.next) {\n      this.init(vnom.next, states)\n    }\n\n    vnom.state = 'start';\n  },\n  getScope (el) {\n    if (el === undefined) {\n      return document.body || document.querySelector('body');\n    }\n  \n    switch (typeof el) {\n      case 'string':\n        return document.querySelector(el);\n      case 'object':\n        return el;            \n    }\n  },\n  findHead ($node) {     \n    if ($node.tagName === 'HTML') {\n      return $node.querySelector('head')\n    } else {\n      return this.findHead($node.parentNode);\n    }\n  }\n};","import Vnom from './vnom';\nimport Utils from './utils';\nimport TextNode from './textNode';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Descriptor from './descriptor';\nimport Vtext from './vtext';\n\nexport default class Vnode {\n  constructor($node) {\n    var stateName = null;\n    this.states = {};\n\n    Object.defineProperty(this, 'state', {\n      get: () => {\n        return stateName\n      },\n      set: (newStateName) => {\n        let oldState = this.getState(stateName);\n        let newState = this.getState(newStateName);\n        stateName = newStateName;\n\n        if ('leave' in oldState) {\n          oldState.leave.apply(this);\n        }\n\n        if ('enter' in newState) {\n          newState.enter.apply(this);\n        }\n\n        if ('props' in newState) {\n          Utils.loop(newState.props, (prop, key) => {\n            this[key] = prop;\n          })\n        }\n\n        if ('on' in newState) {\n          Utils.loop(newState.on, (res, event) => {\n            let fn = typeof res === 'function' ? res : () => { return this.state = res };\n            if (event.charAt(0) === '$') {\n              this.$on(event)\n            }\n          })\n        }\n\n        if ('ready' in newState) {\n          newState.ready.apply(this)\n        }\n      }\n    });\n\n    this.extend(new Vnom($node));\n\n    Utils.check($node.childNodes, ($children) => Utils.loop($children, ($child) => {\n      if ($child.nodeType === 1) {\n        let child = new Vnode($child);\n        child.parent = this;\n\n        if (this.lastChild) {\n          this.lastChild.next = child;\n          child.prev = this.lastChild;\n        } else {\n          this.firstChild = child;\n        }\n\n        this.lastChild = child\n      }\n\n      if ($child.nodeType === 3) {\n        if ($child.nodeValue.match(Utils.mustacheRegex)) {\n          this.extend(new Vtext($child));\n        }\n      }\n    }));\n  }\n\n  setStates(newStates) {\n    if ('data' in newStates) {\n      this.extend(newStates.data);\n      delete newStates.data;\n    }\n\n    if ('methods' in newStates) {\n      for (let methodKey in newStates.methods) {\n        this[methodKey] = newStates.methods[methodKey];\n      }\n      delete newStates.methods;\n    }\n\n    this.states = newStates;\n  }\n\n  getState (state) {\n    if (state in this.states) {\n      return this.states[state]\n    }\n    return {}\n  }\n\n  $on(event) {\n    let $event = event.substring(1);\n    let useCapture = false;\n\n    this.$node.addEventListener($event, (e) => {\n      let state = this.getState(this.state);\n\n      if ('on' in state) {\n        let events = state.on\n        if (event in events) {\n          let fn = typeof events[event] === 'function' ? events[event] : function () { this.state = events[event] };\n          fn.call(this, e)\n        }\n      }\n      \n    }, useCapture)\n  }\n\n  append ($node, states) {\n    let node = new Vnode($node);\n    node.parent = this;\n\n    if (!this.firstChild) {\n      this.firstChild = node;\n    }\n\n    if (this.lastChild) {\n      node.prev = this.lastChild;\n      this.lastChild.next = node;\n    }\n\n    this.lastChild = node;\n\n    Utils.nextFrame(() => {\n      this.$node.appendChild(node.$node);\n      Utils.init(node, states);\n    });\n\n    return node;\n  }\n\n  emit(event, payload) {\n    let state = this.getState(this.state);\n    let bubbles = true;\n    payload = payload || this;\n    \n    if ('on' in state) {\n      let events = state.on;\n\n      if (event in events) {\n        event = event.split('.');\n        let eventName = event[0];\n        let fn = events[eventName];\n\n        bubbles = event[1] !== 'stop';\n\n        fn = typeof fn === 'function' ? fn : function () { this.state = events[eventName] };\n        fn.apply(this)\n      }\n    }\n\n    if (bubbles && this.parent) {\n      this.parent.emit(eventName, payload)\n    }\n  }\n\n  extend (data) {\n    Utils.check(data, (data) => Utils.loop(data, (value, key) => {\n      if (key in this) {\n        this[key] = value\n      } else {\n        Object.defineProperty(this, key, new Descriptor(value, this))\n      }\n    }));\n  }\n\n  find (attrName, value, cb) {\n    let result = [];\n\n    attrName = utils.dashToCamelCase(attrName);\n\n    (function dig(vnode) {\n      if (vnode) {\n        if (vnode[attrName] !== undefined && typeof value === 'function') {\n          value(vnode);\n          result.push(vnode);\n\n        } else if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n          if (typeof cb === 'function') {\n            cb(vnode);\n          }\n\n          result.push(vnode);\n        }\n\n        if (vnode.firstChild) {\n          dig(vnode.firstChild);\n        }\n\n        if (vnode.next) {\n          dig(vnode.next);\n        }\n      }\n\n    })(this.firstChild);\n\n    return result;\n  }\n\n  findParent (attrName, value, cb) {\n    let result = [];\n    attrName = utils.dashToCamelCase(attrName);\n\n    (function dig(vnode) {\n      if (vnode) {\n        if (vnode[attrName] !== undefined && vnode[attrName].split(' ').includes(value)) {\n          if (typeof cb === 'function') {\n            cb(vnode);\n          }\n\n          result.push(vnode);\n        }\n\n        if (vnode.parent) {\n          dig(vnode.parent);\n        }\n      }\n\n    })(this.firstChild);\n\n    return result;\n  }\n\n  plugins (Plugins) {\n    if (!Plugins.length > 0) {\n      return null\n    }\n\n    utils.check(Plugins, () => utils.loop(Plugins, (Plugin) => {\n      this.extend(new Plugin(this))\n    }));\n  }\n\n  prepend ($node, states) {\n    let node = new Model($node);\n    node.parent = this.model;\n\n    if (this.firstChild) {\n      node.next = this.firstChild;\n      this.firstChild.prev = node;\n    }\n\n    this.firstChild = node;\n\n    (utils.debounce(() => {\n      this.$node.prepend(node.$node);\n      utils.init(node, states);\n    }))();\n\n    return node;\n  }\n}","import Descriptor from './descriptor';\nimport Global from './global';\nimport Utils from './utils';\nimport Vtext from './vtext'\nimport Vstyle from './vstyle'\nimport ResizeObserver from 'resize-observer-polyfill';\n\nexport default class Vnom {\n  constructor($node) {\n    const props = {};\n    const id = $node.getAttribute('id') || Utils.uid();\n\n    if ($node.id !== id) {\n      $node.id = id;\n    }\n    \n    props.id = {\n      value: id,\n      watcher: function () {\n        throw 'Cannot change id of ' + this;\n      }\n    }\n\n    props.$node = {\n      value: $node,\n      watcher: function () {\n        throw 'Cannnot change the node of ' + this;\n      }\n    }\n\n    props.tagName = {\n      value: $node.tagName.toLowerCase(),\n      watcher: function () {\n        throw 'Cannot change node type of ' + this;\n      }\n    }\n\n    props.show = {\n      value: $node.style.display === 'block',\n      watcher: function (show) {\n        if (show) {\n          if ($node.style.removeProperty) {\n            $node.style.removeProperty('display');\n          } else {\n            $node.style.removeAttribute('display');\n          }\n        } else {\n          $node.style.display = 'none'\n        }\n      }\n    }\n\n    props.class = {\n      value: $node.getAttribute('class'),\n      watcher: function (newVal) {\n        Utils.nextFrame(() => $node.setAttribute('class', newVal))\n      }\n    }\n\n    props.parent = null;\n    props.firstChild = null;\n    props.lastChild = null;\n    props.next = null;\n    props.prev = null;\n\n    Utils.check($node.attributes, (attributes) => Utils.loop(attributes, (attribute) => {\n      let attrName = Utils.dashToCamelCase(attribute.nodeName);\n      let $attrValue = attribute.nodeValue;\n\n      if (!attrName in props && attrName !== 'for') {\n        props[attrName] = {\n          value: $attrValue,\n          watcher: function (newVal) {\n            Utils.nextFrame(() => $node.setAttribute(Utils.camelCaseToDash(attrName), attrValue));\n          }\n        }\n      }\n    }));\n\n    props.style = new Vstyle(id)\n    \n    return props\n  }\n}","import Utils from './utils';\nimport Descriptor from './descriptor';\nimport Global from './global';\n\nexport default class {\n  constructor (id) {\n    const $styleNode = Utils.createStyleNode();\n    const updateStyles = Utils.debounce(function (styles) {\n      updateStyleNode(styles)\n    })\n\n    return {\n      value: function (values) {\n        if (!values) {\n          updateStyles(this.value);\n          return this.value || {};\n        }\n\n        return values\n      },\n      watcher: function (vals) {\n        Utils.nextFrame(() => updateStyleNode(vals))\n      }\n    };\n\n    function updateStyleNode (styles) {\n      if (!Utils.check(styles)) {\n        $styleNode.innerHTML = ''\n        return\n      }\n\n      var styleString = `#${id}{`;\n\n      Utils.loop(styles, function (value, prop) {\n        styleString += `${Utils.camelCaseToDash(prop)}:${value};`;\n      })\n\n      styleString += '}';\n\n      if ($styleNode.parentNode === null) {\n        Global.head.appendChild($styleNode);\n      }\n\n      $styleNode.innerHTML = styleString;\n    }\n  }\n}","import Utils from './utils';\nimport Descriptor from './descriptor';\n\nexport default class {\n  constructor($node) {\n    const $originalContent = $node.textContent;\n    const props = {};\n    const refs = $originalContent.match(Utils.mustacheRegex).map((match) => {\n        return match.match(/[\\w\\.]+/)[0]\n      }).filter((value, index, self) => {\n        return self.indexOf(value) === index;\n      });\n\n    const contents = $node.textContent.split(Utils.mustacheRegex);\n\n    var $lastNode = $node;\n\n    Utils.loop(contents, (content) => {\n      $node.textContent = '';\n      var index = refs.indexOf(content);\n      var $newNode = document.createTextNode('');\n\n      if (index > -1) {\n        let ref = refs[index];\n\n        (function loop(object, refs, index) {\n          let key = refs[index];\n          index++;\n          object[key] = object[key] || {};\n\n          if (index < refs.length) {\n            loop(object[key], refs, index);\n            return object;\n          } else {\n            if (!object[key].watcher) {\n              object[key].watcher = [];\n            }\n            object[key].watcher.push(function (newVal) {\n              $newNode.textContent = newVal\n            });\n          }\n        })(props, ref.split('.'), 0);\n      } else {\n        $newNode.textContent = content\n      }\n\n      $lastNode.after($newNode);\n      $lastNode = $newNode;\n    });\n    \n    return props;\n\n    function replace($node, $originalContent, object, cb) {\n      $node.textContent = $originalContent.replace(Utils.mustacheRegex, (match, variable) => {\n        return cb(variable, object);\n      });\n    }\n  }\n}"],"sourceRoot":""}